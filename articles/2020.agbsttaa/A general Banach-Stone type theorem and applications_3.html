<!DOCTYPE html>
<!-------------------------------------------------------
The beggining should be equal for all files
--------------------------------------------------------->
<html>
<head>

	<script src="../../src/jquery-3.4.1.min.js"></script> 
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			extensions: ["tex2jax.js"],
			jax: ['input/TeX','output/HTML-CSS'],
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']]
				},
			TeX: {extensions: ['xypic.js','AMSmath.js', 'AMSsymbols.js', 'AMScd.js', ]}
		});
	</script>
	
	<script type="text/javascript" src="../../mathjax/MathJax.js?config=default"></script>

	<script type="text/javascript">
	   function toggle_visibility(id) {
		   var e = document.getElementById(id);
		   if(e.style.display == 'block')
			  e.style.display = 'none';
		   else
			  e.style.display = 'block';
	   }
	</script>
	
	<link rel="stylesheet" type="text/css" href="../../src/style.css">

<title>A general Banach&#8212;Stone type theorem and applications</title>

</head>
<body>

<div style='display: none' id='latexcommands'>
\begin{equation*}
\newcommand{\perpp}{\perp\!\!\!\perp}
\DeclareMathOperator{\so}{\mathfrak{s}}
\DeclareMathOperator{\ra}{\mathfrak{r}}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\ran}{ran}
\DeclareMathOperator{\Min}{Min}
\DeclareMathOperator{\cod}{cod}
\newcommand{\smallerthan}{<}
\newcommand{\greaterthan}{>}
\newcommand{\defeq}{:=}
\newcommand{\eqdef}{=:}


\DeclareMathOperator{\KB}{\mathbf{KB}}

\newcommand{\cat}[1]{\textbf{#1}}
\DeclareMathOperator{\IG}{\mathscr{IG}}

\end{equation*}
</div>

<div id='sidebar'class='sidebar'><h1 class='sidebar-title'>A general Banach&#8212;Stone type theorem and applications</h1>
<h1 class='sidebar-section'><a href='A general Banach-Stone type theorem and applications_front.html'>Front page</a></h1>
<hr>
<h1 class='sidebar-section'><a href='A general Banach-Stone type theorem and applications_0_2.html'>Introduction</a></h1>
<hr>
<h1 class='sidebar-section'><a href='A general Banach-Stone type theorem and applications_1.html'>1. Disjointness and $\perpp$-isomorphisms</a></h1>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_1.html#5'>1.1. Disjointness relations</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_1.html#50'>1.2. $\perpp$-ideals</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_1.html#70'>1.3. The main theorems</a></h2>
<hr>
<h1 class='sidebar-section'><a href='A general Banach-Stone type theorem and applications_2.html'>2. Basic maps</a></h1>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_2.html#124'>2.1. Algebraic signatures and basic maps</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_2.html#127'>2.2. Group-valued maps</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_2.html#130'>2.3. Continuity</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_2.html#154'>2.4. Non-vanishing bijections</a></h2>
<hr>
<h1 class='sidebar-section'><a href='A general Banach-Stone type theorem and applications_3.html'>3. Consequences</a></h1>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#175'>3.1. Milgram's Theorem</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#195'>3.2. Group-Valued functions; the Hernández&#8210;Ródenas Theorem</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#203'>3.3. Kaplansky's Theorem</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#234'>3.4. Li&#8210;Wong Theorem</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#243'>3.5. Jarosz' Theorem</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#246'>3.6. Banach&#8210;Stone Theorem</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#250'>3.7. $L^1$-spaces</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#260'>3.8. Measured groupoid convolution algebras</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#292'>3.9. $(I,\ra)$-Groupoid convolution algebras</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#306'>3.10. Steinberg Algebras</a></h2>
<h2 class='sidebar-subsection'><a href='A general Banach-Stone type theorem and applications_3.html#342'>3.11. Groups of circle-valued functions</a></h2>
<hr>
<h1 class='sidebar-section'><a href='A general Banach-Stone type theorem and applications_3_361.html'>Acknowledgements</a></h1>
</div>

<!-------------------------------------------------------
RIGHT BAR
-------------------------------------------------------->

<div class="fullrightbar">
<div id="closerightbar" style='margin-bottom:1em;display:none;'>
	[<a href='javascript:void(0)' onclick='closerightbar()'>Close</a>]
</div>
<div id='rightbar'></div>
</div>

<!-------------------------------------------------------
MAIN
-------------------------------------------------------->

<div class="main">

<h2 class='section' id='166'>3. Consequences</h2>
<p>
In this section we will recover several known results, some in greater generality than in their original statements, dealing with different algebraic structures on classes of continuous functions and their isomorphisms.
</p>
<p>
The general procedure we will use is the following: Suppose that $X$ and $Y$ are locally compact Hausdorff spaces, $H_X$ and $H_Y$ are Hausdorff spaces, $\theta_X\in C(X,H_X)$, $\theta_Y\in C(Y,H_Y)$ and $\mathcal{A}(X)$ and $\mathcal{A}(Y)$ regular subsets of $C_c(X,\theta_X)$ and $C_c(Y,\theta_Y)$, respectively.
</p>

<style>ol.altlist167 > li:before {
content:  counter(listcounter) '.';
}
</style>
<ol class='alt altlist167'>

<li id='168'>
<p>
Describe the relation $\perpp$ with the algebraic structure at hand. In general, we will first describe $\perp$ and use it in order to describe $\perpp$.
</p>

</li>

<li id='169'>
<p>
Given an algebraic isomorphism $T\colon\mathcal{A}(X)\to\mathcal{A}(Y)$ for appropriate classes of functions $\mathcal{A}(X)$ and $\mathcal{A}(Y)$, the first item ensures that $T$ is a $\perpp$-isomorphism, so let $\phi\colon Y\to X$ be the $T$-homeomorphism.
</p>

</li>
</ol>
<p>
At this point, we have proved that the algebraic isomorphism $T\colon\mathcal{A}(X)\to\mathcal{A}(Y)$ determines an isomorphism $\phi\colon Y\to X$. Since we moreover would like to describe $T$ in terms of $\phi$, we proceed as follows using the theory of Section <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#97'>2</a>:
</p>

<style>ol.altlist170 {counter-reset: listcounter 2;}</style><style>ol.altlist170 > li:before {
content:  counter(listcounter) '.';
}
</style>
<ol class='alt altlist170'>

<li id='171'>
<p>
Prove that $T$ is $\phi$-basic, as in Definition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#102'>2.2</a>. Let $\chi$ be the $(\phi,T)$-transform.
</p>

</li>

<li id='172'>
<p>
Items <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#168'>1.</a>-<a class='reference' href='A general Banach-Stone type theorem and applications_3.html#171'>3.</a> also apply to $T^{-1}$, which is thus also a basic $\perpp$-isomorphism.
</p>

</li>

<li id='173'>
<p>
Items <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#171'>3.</a> and <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#172'>4.</a>  imply, by Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#113'>2.6</a><a class='reference' href='A general Banach-Stone type theorem and applications_2.html#115'>(a)</a> and <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#118'>(b)</a>, that the sections $\chi(y,\cdot)$ are injective and in the case that $\mathcal{A}(Y)$ is regular, item <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#121'>(d)</a> implies that $\chi(y,\cdot)$ is also surjective.
</p>

</li>

<li id='174'>
<p>
If we have a classification of algebraic isomorphisms between $H_X$ and $H_Y$, this classification will apply to each section $\chi(y,\cdot)$ of the $(\phi,T)$-transform, by Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#125'>2.7</a>. This will in turn describe $T$ completely.
</p>

</li>
</ol>

<h3 class='subsection' id='175'>3.1. Milgram's Theorem</h3>
<p>
In this subsection, we will always assume that $X$ (and similarly $Y$) is a locally compact Hausdorff space. We first generalize Milgram's theorem (and by consequence, Gelfand&#8210;Kolmogorov and Gelfand&#8210;Naimark) as follows: Let $S_X$ be a non-trivial path-connected Hausdorff topological monoid with zero $0$ and unit $1$, and which is both:
</p>

<ul>

<li id='176'>
<p>
<em>$0$-right cancellative</em>: for all $s,r,t\in S$, $st=rt\neq 0$ implies $s=r$;
</p>

</li>

<li id='177'>
<p>
<em>categorical at $0$</em>: $st=0$ implies $s=0$ or $t=0$.
</p>

</li>
</ul>
<p>
Common examples of such semigroups are the following, under usual product: $\mathbb{R}$, $\mathbb{C}$, $[-1,1]$, the closed complex unit disc, $\operatorname{Gl}(n,\mathbb{R})\cup\left\{0\right\}$, and other variations.
</p>
<p>
We consider $\theta_X=0$, the zero map from $X$ to $S_X$. Let us also write $C_c(X,S_X)$ for $C_c(X,0)$ (to make the counter-domain explicit). Consider $Y$, $\theta_Y$ and $S_Y$ similarly. Urysohn's Lemma and path-connectedness of $S_X$ implies that $C_c(X,S_X)$ is regular.
</p>
<p>
Following the procedure in the beginning of this section, we first describe $\perpp$ in multiplicative terms:
</p>

<!-- 3.1 -->
<div class='lemma' id='178'>
<span class='envidentifier'>Lemma</span> <span class='envcounter'>3.1</span>.
<p>
If $f,g\in C_c(X,S_X)$, then
<div class='equation' id='179'>
\begin{equation*}
f\perpp g\iff \exists h\in C_c(X,S_X)\text{ such that }hf=f\text{ and }hg=0.\tag{3.1}
\end{equation*}
</div>
</p>

</div>
<div class='proof' id='180'>
<span class='envidentifier'>Proof</span>.
<p>
The condition in the right-hand side of <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#179'>(3.1)</a> states that $h=1$ on $\supp(f)$ and $h\perp g$, so the implication <span>&#8220;</span>$\Leftarrow$<span>&#8221;</span> is immediate. The implication <span>&#8220;</span>$\Rightarrow$<span>&#8221;</span> (i.e., the existence of such $h$ provided $f\perpp g$) follows from Urysohn's Lemma and path-connectedness of $S_X$.
</p>

</div>
<p>
As a consequence, any multiplicative isomorphism $C_c(X,S_X)\to C_c(Y,S_Y)$ is a $\perpp$-isomorphism.
</p>

<!-- 3.2 -->
<div class='corollary' id='181'>
<span class='envidentifier'>Corollary</span> <span class='envcounter'>3.2</span>.
<p>
If $T\colon C(X,S_X)\to C_c(Y,S_Y)$ is a multiplicative isomorphism, then $X$ and $Y$ are homeomorphic.
</p>

</div>
<p>
To recover Milgram's original theorem in full generality, we restrict now to the case $S_X=S_Y=\mathbb{R}$ in order to obtain an explicit description of $T$ as above.
</p>
<p>
First, we will need to recall the classification of multiplicative isomorphisms of $\mathbb{R}$. The general case may be found in [<a class='reference' href='../../HTML citations/MR2467621.html' target='_blank'>MR2467621</a>, Theorem 3.1.3], but for our purposes it will suffice to consider only the continuous isomorphisms (which were already described in [<a class='reference' href='../../HTML citations/MR0029476.html' target='_blank'>MR0029476</a>, Lemma 4.3], for example).
</p>

<!-- 3.3 -->
<div class='proposition' id='182'>
<span class='envidentifier'>Proposition</span> <span class='envcounter'>3.3</span>.
<p>
Let $\tau\colon\mathbb{R}\to\mathbb{R}$ be a multiplicative isomorphism. Then $\tau$ is continuous if and only if $0\smallerthan x\smallerthan 1$ implies $0\smallerthan \tau(x)\smallerthan 1$. In this case, $\tau$ has the form $\tau(x)=\operatorname{sgn}(x)|x|^p$ for some $p\greaterthan 0$.
</p>

</div>
<p>
We will now classify multiplicative isomorphisms from $C_c(X,\mathbb{R})$ and $C_c(Y,\mathbb{R})$. Note that the following theorem is a generalization of [<a class='reference' href='../../HTML citations/MR0029476.html' target='_blank'>MR0029476</a>, Theorem A] to the <em>locally</em> compact setting.
</p>

<!-- 3.4 -->
<div class='theorem' id='183'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.4</span> <span class='envop'>(Milgram's Theorem [<a class='reference' href='../../HTML citations/MR0029476.html' target='_blank'>MR0029476</a>, Theorem A], for locally compact spaces)</span>.
<p>
Let $X$ and $Y$ be locally compact Hausdorff spaces and let $T\colon C_c(X,\mathbb{R})\to C_c(Y,\mathbb{R})$ be a multiplicative isomorphism. Then there exists a homeomorphism $\phi\colon Y\to X$, a closed, discrete and isolated subset $F\subseteq Y$, and a continuous positive function $p\colon Y\setminus F\to(0,\infty)$ satisfying
<div class='equation' id='184'>
\begin{equation*}
Tf(y)=\operatorname{sgn}(f(\phi(y)))|f(\phi (y))|^{p(y)}
\end{equation*}
</div>
for all $f\in C_c(X,\mathbb{R})$ and $y\in Y\setminus F$.
</p>

</div>
<div class='proof' id='185'>
<span class='envidentifier'>Proof</span>.
<p>
By Lemma <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#178'>3.1</a>, $T$ is a $\perpp$-isomorphism, so let $\phi$ be the $T$-homeomorphism. We prove that $T$ is $\phi$-basic in a few simple steps.
</p>

<style>ol.altlist186 > li:before {
content:  counter(listcounter) '.';
}
</style>
<ol class='alt altlist186'>

<li id='187'>
<p>
<u>If $f,h\in C_c(X,\mathbb{R})$, then $f=1$ on $\supp(h)$ (i.e., $fh=h$) if and only if $Tf=1$ on $\supp(Th)$ (i.e., $(Tf)(Th)=(Th)$).</u> This implies that
</p>

</li>

<li id='188'>
<p>
<u>If $f,h\in C_c(X,\mathbb{R})$, then $f\neq 0$ on $\supp(h)$ if and only if $Tf\neq 0$ on $\supp(Th)$.</u>
</p>
<p>
Indeed, if $f\neq 0$ on $\supp(h)$, we can find $g\in C_c(X,\mathbb{R})$ such that $g=1/f$ on $\supp(h)$. Item <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#187'>1.</a> implies that $TfTg=1$ on $\supp(Th)$, and in particular $Tf\neq 0$ on $\supp(Th)$. As the sets of the form $\sigma(h)$ form a basis of $X$, we conclude that
</p>

</li>

<li id='189'>
<p>
<u>If $f\in C_c(X,\mathbb{R})$ and $y\in Y$, then $f(\phi(y))\neq 0$ if and only if $Tf(y)\neq 0$.</u>
</p>
<p>
A similar argument to that of item <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#188'>2.</a> also proves that
</p>

</li>

<li id='190'>
<p>
<u>If $f,g,h\in C_c(X,\mathbb{R})$, then $f$ and $g$ coincide and are nonzero on $\supp(h)$ if and only if $Tf$ and $Tg$ coincide and are nonzero on $\supp(h)$.</u>
</p>

</li>

<li id='191'>
<p>
In particular, from <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#189'>3.</a>, <u>$f(\phi(y))=0$ if and only if $Tf(y)=0$.</u>
</p>

</li>

<li id='192'>
<p>
<u>If $f\in C_c(X,\mathbb{R})$ and $y\in Y$, then $f(\phi(y))=1$ if and only if $Tf(y)=1$:</u>
</p>
<p>
Suppose this was not the case, say $f(\phi(y))=1$ but $Tf(y)\neq 1$. From item <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#187'>1.</a> above we know that $y$ is not isolated. If necessary, as $T$ is a $\perp$-isomorphism, Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_1.html#72'>1.16</a> allows us to change $f$ by a function which equals $1/f$ on some neighbourhood of $\phi(y)$ and assume that $Tf(y)\greaterthan 1$. The rest of the argument is similar to that of [<a class='reference' href='../../HTML citations/MR0029476.html' target='_blank'>MR0029476</a>, Lemma 4.1]: We first take a sequence of distinct points $y_n$, all contained in some compact neighbourhood of $y$, satisfying
</p>

<ul>

</li>

<li id='193'>
<p>
$f(\phi(y_n))^n\to 1=f(\phi(y))$; and
</p>

</li>

<li id='194'>
<p>
$Tf(y_n)\to Tf(y)$, so in particular $Tf(y_n)^n\to\infty$.
</p>

</li>
</ul>
<p>
Using Propositions <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#131'>2.9</a> and <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#132'>2.10</a><a class='reference' href='A general Banach-Stone type theorem and applications_2.html#135'>(b)</a>, we may find $g\in C_c(X,\mathbb{R})$ which coincides with $f^n$ on some neighbourhood of $\phi(y_n)$. But then $Tg$ coincides with $(Tf)^n$ on a neighbourhood $y_n$ (because $T$ is a $\perp$-isomorphism), contradicting the fact that $Tg$ is bounded.
</p>

</li>
</ol>
<p>
We conclude, from <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#191'>5.</a> and <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#192'>6.</a>, that $T$ is $\phi$-basic. Let $\chi\colon Y\times\mathbb{R}\to\mathbb{R}$ be the $T$-transform.
</p>
<p>
Let $F=\left\{y\in Y:\chi(y,\cdot)\text{ is discontinuous}\right\}$. Let us prove that $F$ is closed and discrete, or equivalently that $F\cap K$ is finite for all compact $K\subseteq Y$. Otherwise, by Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#182'>3.3</a>, there would be distinct $y_1,y_2,\ldots\in K$ and a strictly decreasing sequence $t_n\to 0$ such that $\chi(y_n,t_n)\greaterthan n$. Going to a subsequence if necessary, we can construct, by Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#132'>2.10</a><a class='reference' href='A general Banach-Stone type theorem and applications_2.html#135'>(b)</a>, $f\in C_c(X,\mathbb{R})$ with $f(\phi(y_n))=t_n$, so $Tf(y_n)\greaterthan n$ for all $n$, a contradiction to the boundedness of $Tf$.
</p>
<p>
To prove that $F$ is isolated we prove that it is open: If $z\in F$, then there is $t\in(0,1)$ with $\chi(z,t)\greaterthan 1$. Take $f\in C_c(X,\mathbb{R})$ such that $f=t$ on a neighbourhood $U$ of $\phi(z)$. In particular $Tf(z)\greaterthan 1$, so there is a neighbourhood $W$ of $z$ such that $Tf\greaterthan 1$ on $W$. Then for all $y\in\phi^{-1}(U)\cap W$, $\chi(y,t)=Tf(y)\greaterthan 1$, so $y\in F$.
</p>
<p>
Therefore, $F$ consists of isolated points, since $Y$ is locally compact. For $y\not\in F$, Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#125'>2.7</a> and Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#182'>3.3</a> imply that $\chi(y,\cdot)$ has the form $\chi(y,t)=\operatorname{sgn}(t)|t|^{p(y)}$ for some $p(y)\greaterthan 0$. As for the continuity of $p$, Let $U$ be any relatively compact open subset of $Y$ not intersecting $F$, and $f\in C_c(X,\mathbb{R})$ with $f=2$ on $\phi(U)$. Then $Tf(y)=f(y)^{p(y)}=2^p(y)$, so $p=\log_{2}\circ Tf$ on $U$. This proves that $T$ is continuous on $Y\setminus F$.
</p>

</div>

<h3 class='subsection' id='195'>3.2. Group-Valued functions; the Hernández&#8210;Ródenas Theorem</h3>
<p>
Given topological groups $G$ and $H$, denote by $\operatorname{AbsIso}(G,H)$ the set of algebraic group isomorphisms from $G$ to $H$, and by $\operatorname{TopIso}(G,H)$ the set of topological (i.e., homeomorphisms which are) group isomorphisms.
</p>
<p>
Let $X$ and $Y$ be compact Hausdorff spaces and $G$ a Hausdorff topological group. In [<a class='reference' href='../../HTML citations/MR2324919.html' target='_blank'>MR2324919</a>, Theorem 3.7], Hernández and Ródenas classified non-vanishing group morphisms (not necessarily <em>isomorphisms</em>) $T\colon C(X,G)\to C(Y,G)$ which satisfy the following properties:
</p>

<style>ol.altlist196 > li:before {
content:  '(' counter(listcounter,lower-roman) ')';
}
</style>
<ol class='alt altlist196'>

<li id='197'>
<p>
There exists a continuous group morphism $\psi\colon G\to C(X,G)$, where $C(X,G)$ is endowed with the topology of pointwise convergence, such that for all $\alpha\in G$ and all $y\in Y$, $T(\psi(\alpha))(y)=\alpha$;
</p>

</li>

<li id='198'>
<p>
For every continuous endomorphism $\theta\colon G\to G$ and every $f\in C(X,G)$, $T(\theta\circ f)=\theta\circ (Tf)$.
</p>

</li>
</ol>
<p>
If $T$ is a group isomorphism and $T^{-1}$ is continuous (with respect to uniform convergence) then condition (i) is immediately satisfied, however this is not true for (ii): For example, if $\operatorname{TopIso}(G,G)$ is non-abelian and $\rho\in\operatorname{TopIso}(G,G)$ is any non-central element, then the map $T\colon C(X,G)\to C(X,G)$ given by $Tf=\rho\circ f$ is a group isomorphism, and a self-homeomorphism of $C(X,G)$ with the topology of uniform convergence, which does not satisfy (ii).
</p>
<p>
In the next theorem we obtain the same type of classification as in [<a class='reference' href='../../HTML citations/MR2324919.html' target='_blank'>MR2324919</a>, Theorem 3.7], without assuming condition (ii), however we consider only non-vanishing group isomorphisms. Given a compact Hausdorff space $X$, a topological group $G$ and $\alpha\in G$, denote by $\overline{\alpha}$ the constant function $X\to G$, $x\mapsto \alpha$. We endow $C(X,G)$ with the topology of pointwise convergence.
</p>

<!-- 3.5 -->
<div class='theorem' id='199'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.5</span>.
<p>
Suppose that $G$ and $H$ are Hausdorff topological groups, and $X$ and $Y$ are compact Hausdorff spaces for which $(X,\overline{1_G},C(X,G))$ and $(Y,\overline{1_H},C(Y,H))$ are regular.
</p>
<p>
Let $T\colon C(X,G)\to C(Y,H)$ be a non-vanishing group isomorphism (Definition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#155'>2.12</a>). Then there exist a homeomorphism $\phi\colon Y\to X$ and a map $w\colon Y\to\operatorname{AbsIso}(H,G)$ such that $Tf(y)=w(y)(f(\phi(y))$ for all $y\in Y$ and $f\in C(X,G)$.
</p>
<p>
If $T$ is continuous on the constant functions then each $w(y)$ is continuous and $T$ is continuous on $C(X,G)$. If both $T$ and $T^{-1}$ are continuous on the constant functions then $w(y)\in\operatorname{TopIso}(H,G)$ and $T$ is a homeomorphism for the topologies of pointwise convergence.
</p>

</div>
<div class='proof' id='200'>
<span class='envidentifier'>Proof</span>.
<p>
By Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#163'>2.14</a> and Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#128'>2.8</a>, there is a homeomorphism $\phi\colon Y\to X$ such that $T$ is $\phi$-basic, and the sections $\chi(y,\cdot)\colon G\to H$ of the $(\phi,T)$-transform $\chi$ are group morphisms by Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#125'>2.7</a>. Similar facts hold for $T^{-1}$, so Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#113'>2.6</a> implies that each section $\chi(y,\cdot)$ is bijective. Letting $w(y)=\chi(y,\cdot)$ we are done with the first part.
</p>
<p>
Now note that for all $\alpha\in G$ and $y\in Y$,
<div class='equation' id='201'>
\begin{equation*}
w(y)(\alpha)=w(y)(\overline{\alpha}(\phi(y)))=T\overline{\alpha}(y)
\end{equation*}
</div>
which implies that every $w(y)$ is continuous if and only if $T$ is continuous on the constant functions (because the map $\alpha\mapsto\overline{\alpha}$ from $G$ to $C(X,G)$ is a homeomorphism onto its image). In this case, from the equality
<div class='equation' id='202'>
\begin{equation*}
Tf(y)=w(y)(f(\phi(y))\qquad\text{for all}\quad f\in C(X,G)\quad\text{and}\quad y\in Y,
\end{equation*}
</div>
we can readily see that $T$ is continuous. The last part, assuming also that $T^{-1}$ is continuous on the constant functions, is similar, using $T^{-1}$ and $w(y)^{-1}$ in place of $T$ and $w(y)$.
</p>

</div>

<h3 class='subsection' id='203'>3.3. Kaplansky's Theorem</h3>
<p>
Let $R$ be a totally ordered set without supremum nor infimum, regarded as a topological space with the order topology, and let $X$ be a locally compact Hausdorff space. We consider the pointwise order on $C(X,R)$: $f\leq g$ if and only if $f(x)\leq g(x)$ for all $x$, which makes $C(X,R)$ a lattice: for all $f,g\in C(X,R)$ and $x\in X$,
<div class='equation' id='204'>
\begin{equation*}
(f\lor g)(x)=\max\left\{f(x),g(x)\right\},\qquad\text{and}\qquad(f\land g)(x)=\min\left\{f(x),g(x)\right\}.
\end{equation*}
</div>
Denote by $C_b(X,R)$ the sublattice of bounded continuous functions from $X$ to $R$.
</p>
<p>
In [<a class='reference' href='../../HTML citations/MR0020715.html' target='_blank'>MR0020715</a>] Kaplansky proved that if $X$ is compact and <em>$R$-normal</em> (this is a stronger version of strong regularity; see [<a class='reference' href='../../HTML citations/MR0020715.html' target='_blank'>MR0020715</a>, p. 618]), then the lattice $C(X,R)$ determines $X$ completely, and in [<a class='reference' href='../../HTML citations/MR0026240.html' target='_blank'>MR0026240</a>], classified additive lattice isomorphisms between these lattices of functions in the case that $R=\mathbb{R}$. We improve on these results in the following ways: We allow $X$ to be non-compact (only locally compact), obtain a recovery theorem for $X$ from a subcollection $\mathcal{A}$ of $C_b(X,R)$ (Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#224'>3.11</a>), and classify lattice isomorphisms in the case of non-real-valued functions for first-countable spaces (Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#227'>3.13</a>).
</p>
<p>
We will consider sublattices $\mathcal{A}$ of $C_b(X,R)$ which satisfy
</p>

<style>ol.altlist205 > li:before {
content:  '(' 'L' counter(listcounter) ')';
}
</style>
<ol class='alt altlist205'>

<li id='206'>
<p>
for all $f,g\in\mathcal{A}$, $\overline{[f\neq g]}$ is compact;
</p>

</li>

<li id='207'>
<p>
for all $f\in\mathcal{A}$, every open set $U\subseteq X$, every $x\in U$ and $\alpha\in R$, there exists $g\in\mathcal{A}$ such that $g(x)=\alpha$ and $[g\neq f]\subseteq U$.
</p>

</li>
</ol>
<p>
Condition <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#206'>(L1)</a> is equivalent to saying that $\mathcal{A}\subseteq C_c(X,\theta)$, where $\theta$ is some (any) element of $\mathcal{A}$, and condition <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a> is a form of regularity. These conditions are satisfied in the settings that have been previously studied.
</p>

<!-- 3.6 -->
<div class='example' id='208'>
<span class='envidentifier'>Example</span> <span class='envcounter'>3.6</span> <span class='envop'>(Kaplansky, [<a class='reference' href='../../HTML citations/MR0020715.html' target='_blank'>MR0020715</a>])</span>.
<p>
Suppose that $X$ is compact and $\mathcal{A}$ is an $R$-normal sublattice of $C(X,R)$. Condition <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#206'>(L1)</a> is trivial, so let us check that $\mathcal{A}$ satisfies <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a>: Suppose $f$, $U$, $x$ and $\alpha$ are as in that condition. For the sake of the argument we can assume $f(x)\leq\alpha$. Let $\beta$ be any lower bound of $f(X)$, and from $R$-normality find $h\in\mathcal{A}$ such that $h(x)=\alpha$ and $h=\beta$ outside $U$. Then $g=f\lor h$ has the desired properties.
</p>

</div>

<!-- 3.7 -->
<div class='example' id='209'>
<span class='envidentifier'>Example</span> <span class='envcounter'>3.7</span> <span class='envop'>(Li&#8210;Wong,  [<a class='reference' href='../../HTML citations/MR3162258.html' target='_blank'>MR3162258</a>])</span>.
<p>
Suppose that $X$ is compact, $R=\mathbb{R}$, and $\mathcal{A}$ is a regular additive subgroup of $C(X,\mathbb{R})$, so <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#206'>(L1)</a> is also trivial and again we need to verify condition <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a>: Let $f$, $U$, $x$ and $\alpha$ be as in <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a>. By regularity, take $h$ such that $\supp(h)\subseteq U$ and $h(x)=\alpha-f(x)$. Then $g=f+h$ has the desired properties
</p>

</div>
<p>
We will now recover the main result of [<a class='reference' href='../../HTML citations/MR0020715.html' target='_blank'>MR0020715</a>], The following lemma is based on [<a class='reference' href='../../HTML citations/MR0052760.html' target='_blank'>MR0052760</a>].
</p>

<!-- 3.8 -->
<div class='lemma' id='210'>
<span class='envidentifier'>Lemma</span> <span class='envcounter'>3.8</span>.
<p>
Let $\mathcal{A}$ be a sublattice of $C_b(X,R)$ satisfying <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#206'>(L1)</a> and <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a>, and let $f_0$ be any element of $\mathcal{A}$. Let $\mathcal{A}_{\geq f_0}=\left\{f\in\mathcal{A}:f\geq f_0\right\}$. Then $(X,f_0,\mathcal{A}_{\geq f_0})$ is weakly regular and for $f,g\in\mathcal{A}_{\geq f_0}$,
</p>

<style>ol.altlist211 > li:before {
content:  '(' counter(listcounter,lower-alpha) ')';
}
</style>
<ol class='alt altlist211'>

<li id='212'>
<p>
$f\perp g\iff f\land g=f_0$ (which is the minimum of $\mathcal{A}_{\geq f_0})$;
</p>

</li>

<li id='213'>
<p>
$f\Subset g$ is equivalent to the following statement:
<div class='equation' id='214'>
\begin{equation*}
\begin{split}
\text{``for every bounded subset $\mathcal{H}\subseteq\mathcal{A}$ such that $h\subseteq f$ for all $h\in\mathcal{H}$,}\\
\text{there is an upper bound $k$ of $\mathcal{H}$ such that $k\subseteq g$.''}

\end{split}\tag{K}
\end{equation*}
</div>
</p>

</li>
</ol>

</div>

<div class='proof' id='215'>
<span class='envidentifier'>Proof</span>.
<p>
Weak regularity is immediate from <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a> and the fact that $R$ does not have a supremum, and item <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#212'>(a)</a> is trivial. Let us prove <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#213'>(b)</a>. First suppose $f\Subset g$ and $\mathcal{H}\subseteq\mathcal{A}$ is a bounded subset such that $h\subseteq f$ for all $h\in \mathcal{H}$. Let $\alpha\in R$ be an upper bound of $\bigcup_{h\in\mathcal{H}}h(X)$. From weak regularity and compactness of $\supp(f)$, we can take finitely many functions $k_1,\ldots,k_n$ such that $k_i\Subset g$, and for every $x\in\supp(f)$ there is some $i$ with $k_i(x)\greaterthan \alpha$. Letting $k=\bigvee_{i=1}^n k_i$ we obtain the desired properties.
</p>
<p>
Conversely, suppose that condition (K) holds. Let $\alpha$ be any upper bound of $f_0(X)$ and again take $\beta\greaterthan \alpha$. Let $\mathscr{H}=\left\{h\in\mathcal{A}_{\geq f_0}:h\leq \beta, h\subseteq f\right\}$. Let $k$ be an upper bound of $\mathcal{H}$ with $k\subseteq g$. By Property <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a>, we have $\sigma(f)=\bigcup_{h\in\mathscr{H}}\sigma(h)$, so $k\geq\beta$ on $\sigma(f)$ and thus also on $\supp(f)$, which implies $f\Subset k$. Since $k\subseteq g$ then $f\Subset g$.
</p>

</div>
<p>
As an immediate consequence of Lemma <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#210'>3.8</a> and Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_1.html#75'>1.17</a> we have the following generalization of Kaplansky's Theorem:
</p>

<!-- 3.9 -->
<div class='theorem' id='216'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.9</span> <span class='envop'>(Kaplansky [<a class='reference' href='../../HTML citations/MR0020715.html' target='_blank'>MR0020715</a>])</span>.
<p>
Suppose $R$ has no supremum nor infimum, $\mathcal{A}(X)$ and $\mathcal{A}(Y)$ are sublattices of $C_b(X,R)$ and $C_b(Y,R)$, respectively, satisfying conditions <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#206'>(L1)</a> and <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a>, and $T\colon\mathcal{A}(X)\to\mathcal{A}(Y)$ is a lattice isomorphism. Then for any $f_0\in\mathcal{A}$, $T$ restricts to a $\perpp$-isomorphism of the regular sublattices $\mathcal{A}(X)_{\geq f_0}$ and $\mathcal{A}(Y)_{\geq Tf_0}$. In particular, $X$ and $Y$ are homeomorphic.
</p>

</div>
<p>
Our immediate goal is to prove that the homeomorphism between $X$ and $Y$ given by Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#216'>3.9</a> does not depend on the choice of function $f_0$ in Lemma <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#210'>3.8</a>.
</p>

<!-- 3.10 -->
<div class='lemma' id='217'>
<span class='envidentifier'>Lemma</span> <span class='envcounter'>3.10</span>.
<p>
Under the conditions of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#216'>3.9</a>, let $\phi\colon Y\to X$ be the $T|_{\mathcal{A}(X)_{\geq f_0}}$-homeomorphism. If $f,g\in\mathcal{A}(X)_{\geq{f_0}}$ then $\phi^{-1}(\operatorname{int}([f=g]))=\operatorname{int}([Tf=Tg])$.
</p>

</div>
<div class='proof' id='218'>
<span class='envidentifier'>Proof</span>.
<p>
We will use the superscript <span>&#8220;</span>$f_0$<span>&#8221;</span> as in Definition <a class='reference' href='A general Banach-Stone type theorem and applications_1.html#6'>1.1</a>, that is, for all $f\geq f_0$.
<div class='equation' id='219'>
\begin{equation*}
\sigma^{f_0}(f)=\operatorname{int}(\overline{[f\neq f_0]}),\qquad\text{and}\qquad Z^{f_0}(f)=\operatorname{int}([f=f_0]).
\end{equation*}
</div>
and similarly with $Tf_0$ in place of $f_0$. Then $\phi$ is the only homeomorphism satisfying $\sigma^{f_0}(f)=\phi(\sigma^{Tf_0}(Tf))$, or equivalently $Z^{f_0}(f)=\phi(Z^{Tf_0}(Tf))$, for all $f\geq f_0$.
</p>
<p>
First, assume that $f\leq g$, and let $U=\operatorname{int}([f=g])$. For all $x\in[f\smallerthan g]$, choose a function $k_x\in\mathcal{A}(X)_{\geq f_0}$ such that
</p>

<ul>

<li id='220'>
<p>
$\sigma^{f_0}(k_x)\cap [f=g]=\varnothing$;
</p>

</li>

<li id='221'>
<p>
$k_x(x)=g(x)$;
</p>

</li>

<li id='222'>
<p>
$k_x\leq g$.
</p>

</li>
</ul>
<p>
Then $g=\sup\left\{f,k_x:x\in[f\smallerthan g]\right\}$, so $Tg=\sup\left\{Tf,Tk_x:x\in[f\smallerthan g]\right\}$..
</p>
<p>
Let us prove that $Tf(y)=Tg(y)$ for all $y\in\phi(U)$. Since $U\subseteq\bigcap_{x\in[f\smallerthan g]}Z^{f_0}(k_x)$, then $\phi^{-1}(U)\subseteq\bigcap_{x\in[x\smallerthan g]}Z^{Tf_0}(Tk_x)$.
</p>
<p>
Given $y\in\phi(U)$, use property <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a> to find $h\in\mathcal{A}(Y)$ such that $h(y)=Tf(y)$ and $h=Tg$ outside of $\phi(U)$. Then $h'=(Tf\lor h)\land Tg$ is an upper bound of $\left\{Tf,Tk_x:x\in[f\smallerthan g]\right\}$, so it is also an upper bound of $Tg$, and in particular
<div class='equation' id='223'>
\begin{align*}
Tg(y)\leq ((Tf\lor h)\land Tg)(y)=Tf(y)\leq (Tf\lor h)(y)=Tf(y),
\end{align*}
</div>
so $Tg(y)=Tf(y)$.
</p>
<p>
In the general case, if $f=g$ on an open set $U$ then $f=f\land g=g$ on $U$, so the previous case implies that $Tf$ and $Tg$ both coincide with $T(f\land g)$ on $\phi^{-1}(U)$.
</p>

</div>

<!-- 3.11 -->
<div class='theorem' id='224'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.11</span>.
<p>
Under the conditions of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#216'>3.9</a>, there exists a unique homeomorphism $\phi\colon Y\to X$ such that $\phi(\operatorname{int}([Tf=Tg]))=\operatorname{int}([f=g])$ for all $f,g\in\mathcal{A}(X)$. (In this case we will still call $\phi$ the <em>$T$-homeomorphism</em>.)
</p>

</div>
<div class='proof' id='225'>
<span class='envidentifier'>Proof</span>.
<p>
For each $f_0\in \mathcal{A}(X)$, let $\phi^{f_0}\colon Y\to X$ be the $T|_{\mathcal{A}(X)_{\geq f_0}}$-homeomorphism. Given $f_0,g_0\in\mathcal{A}(X)$, Lemma <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#217'>3.10</a> implies that $\phi^{f_0\land g_0}$ satisfies the property of both the $T|_{\mathcal{A}(X)_{\geq f_0}}$ and the $T|_{\mathcal{A}(X)_{\geq g_0}}$-homeomorphisms, so $\phi^{f_0}=\phi^{f_0\land g_0}=\phi^{g_0}$. We are done by letting $\phi=\phi^{f_0}$ for some arbitrary $f_0\in\mathcal{A}(X)$.
</p>

</div>
<p>
A natural goal now is to classify the lattice isomorphisms as given in Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#224'>3.11</a>, which is possible when we consider first-countable spaces. A similar argument to that of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#113'>2.6</a> appears in [<a class='reference' href='../../HTML citations/MR2995073.html' target='_blank'>MR2995073</a>], although in a different context (considering lattices of possibly unbounded real-valued continuous functions on complete metric spaces). See also [<a class='reference' href='../../HTML citations/MR2999998.html' target='_blank'>MR2999998</a>], <a class='reference' href='../../HTML citations/MR3404615.html' target='_blank'>MR3404615</a>].
</p>
<p>
Let us reinforce the assumptions, assumed throughout this subsection, that $X$ denotes a locally compact Hausdorff space and $R$ is a totally ordered set without maximum or minimum with the order topology. The following is a version of Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#132'>2.10</a> in this setting, and is also proven by <span>&#8220;</span>cutting and pasting<span>&#8221;</span> (aided by the lattice operations of $R$), so we omit the details.
</p>

<!-- 3.12 -->
<div class='proposition' id='226'>
<span class='envidentifier'>Proposition</span> <span class='envcounter'>3.12</span>.
<p>
Assume further that $X$ and $R$ are first-countable, and that $\theta\in C_b(X,R)$ is such that $C_c(X,\theta)$ satisfies <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a>. Suppose that $\left\{x_n\right\}_n$ is an injective sequence in $X$, converging to $x_\infty\in X$. Let $g_n\in C(X,R)$ be functions such that $g_n(x_n)\to \theta(x)$.
</p>
<p>
Then there exists $f\in C_c(X,\theta)$ such that $f=g_n$ on a neighbourhood of $x_n$ for each $n$, and that $f=\theta$ outside of a compact containing $\left\{x_n:n\in\mathbb{N}\right\}$ (which may be taken as small as desired with this property).
</p>

</div>

<!-- 3.13 -->
<div class='theorem' id='227'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.13</span>.
<p>
Suppose that $X$, $Y$ and $R$ are first-countable, that $C_c(X,\theta_X)$ and $C_c(Y,\theta_Y)$ satisfy <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#207'>(L2)</a>, and that $T\colon C_c(X,\theta_X)\to C_c(Y,\theta_Y)$ is a lattice isomorphism. Then there are a unique homeomorphism $\phi\colon Y\to X$ and a continuous function $\chi\colon Y\times R\to R$ such that
<div class='equation' id='228'>
\begin{equation*}
Tf(y)=\chi(y,f(\phi(y)))\qquad\text{ for all }y\in Y\text{ and }f\in C_c(X,0)\tag{3.2}
\end{equation*}
</div>
and $\chi(y,\cdot)\colon R\to R$ is an increasing bijection for each $y\in Y$.
</p>

</div>
<div class='proof' id='229'>
<span class='envidentifier'>Proof</span>.
<p>
Let $\phi\colon Y\to X$ be the $T$-homeomorphism. We just need to prove that $T$ is $\phi$-basic, so assume $y\in Y$ and $f(\phi(y))=g(\phi(y))$. In order to prove that $Tf(y)=Tg(y)$, we may assume that $f\leq g$, by considering the auxiliary function $f\land g$.
</p>
<p>
If $y$ is isolated in $Y$, then $f$ and $g$ coincide on the open set $\left\{\phi(y)\right\}$, so $Tf$ and $Tg$ coincide on the open set $\left\{y\right\}$.
</p>
<p>
Assume then that $y$ is not isolated. Since $Y$ is first-countable, let $(y_n)_n$ be an injective sequence in $Y$ converging to $y$. By Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#226'>3.12</a>, there is $h\in C_c(X,\theta)$ such that
</p>

<ul>

<li id='230'>
<p>
If $n$ is even, $h=f$ on a neighbourhood of $\phi(y_n)$;
</p>

</li>

<li id='231'>
<p>
If $n$ is odd, $h=g$ on a neighbourhood of $\phi(y_n)$.
</p>

</li>
</ul>
<p>
Then $\phi(y)\in\overline{\operatorname{int}[f=h]}$, so $t\in\overline{\operatorname{int}[Tf=Th]}$ and so $Tf(y)=Th(y)$. Similarly, $Tg(y)=Th(y)=Tf(y)$. This proves that $T$ is $\phi$-basic. Let $\chi$ be the $(\phi,T)$-transform.
</p>
<p>
Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#125'>2.7</a>, applied to the signature of lattices (with the binary symbol <span>&#8220;</span>$\lor$<span>&#8221;</span> interpreted as <span>&#8220;</span>join<span>&#8221;</span>) implies that the sections $\chi(y,\cdot)$ are lattice isomorphisms of $R$ for all $n$, and in particular homeomorphisms. The proof that $\chi$ is continuous is similar to that of implication <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#141'>(ii)</a>$\Rightarrow$<a class='reference' href='A general Banach-Stone type theorem and applications_2.html#140'>(i)</a> of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#138'>2.11</a> (using Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#226'>3.12</a> instead of <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#132'>2.10</a>).
</p>

</div>
<p>
In the case of additive lattice isomorphisms of spaces of real-valued functions, we do not require the first-countability hypothesis.
</p>

<!-- 3.14 -->
<div class='theorem' id='232'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.14</span>.
<p>
Suppose $R=\mathbb{R}$, and $T\colon C_c(X)\to C_c(Y)$ is an additive lattice isomorphism. Then there are a unique homeomorphism $\phi\colon Y\to X$ and a unique positive continuous function $p\colon Y\to (0,\infty)$ such that $Tf(y)=p(y)f(\phi(y))$ for all $f\in C_c(X)$ and $y\in Y$.
</p>

</div>
<div class='proof' id='233'>
<span class='envidentifier'>Proof</span>.
<p>
First note that for all $f\in C_c(X)$, $|f|=(f\lor 0)-(f\land 0)$, so $T|f|=|Tf|$. Let $\phi\colon Y\to X$ be the $T$-homeomorphism, given by Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#224'>3.11</a>.
</p>
<p>
The proof that $T$ is $\phi$-basic is similar to that of item <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#192'>6.</a> of the proof of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#183'>3.4</a>. Let $\chi$ be the $T$-transform. Each section $\chi(y,\cdot)$ is an additive order-preserving bijection (Propositions <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#125'>2.7</a> and <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#113'>2.6</a>) and hence has the form $\chi(y,t)=p(y)t$ for some $p(y)\greaterthan 0$. If $Tf(y)\neq 0$, then $f(\phi(y))\neq 0$ as well and $p=Tf/(f\circ \phi)$ on a neighbourhood of $y$, thus $p$ is continuous.
</p>

</div>

<h3 class='subsection' id='234'>3.4. Li&#8210;Wong Theorem</h3>
<p>
We will now recover a theorem of Li and Wong, [<a class='reference' href='../../HTML citations/MR3162258.html' target='_blank'>MR3162258</a>, Theorem 2.2], which can be seen as a generalization of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#232'>3.14</a>. We will proceed in the opposite direction, i.e., by proving their result instead as a consequence of the more general Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#216'>3.9</a>. Let $\mathbb{K}=\mathbb{R}$ or $\mathbb{C}$.
</p>

<!-- 3.15 -->
<div class='theorem' id='235'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.15</span> <span class='envop'>(Li&#8210;Wong [<a class='reference' href='../../HTML citations/MR3162258.html' target='_blank'>MR3162258</a>])</span>.
<p>
Let $X$ and $Y$ be compact Hausdorff spaces, and $\mathcal{A}(X)$ and $\mathcal{A}(Y)$ be two regular vector sublattices of $C(X,\mathbb{K})$ and $C(Y,\mathbb{K})$, respectively. Suppose that $T\colon \mathcal{A}(X)\to \mathcal{A}(Y)$ is a $\mathbb{K}$-linear isomorphism which preserves non-vanishing functions, that is, for all $f\in\mathcal{A}(X)$,
<div class='equation' id='236'>
\begin{equation*}
0\in f(X)\iff 0\in Tf(Y).
\end{equation*}
</div>
Then there is a homeomorphism $\phi\colon Y\to X$ and a continuous non-vanishing function $p\colon Y\to\mathbb{K}$ such that $Tf(y)=p(y)f(\phi(y))$ for all $f\in\mathcal{A}(X)$ and $y\in Y$.
</p>

</div>
<p>
The following technical lemma is the main necessary tool of the proof. We do not assume that $\mathcal{A}(X)$ contains the constant functions, however since it is a regular lattice then it contains a strictly positive function $F$ satisfying $0\smallerthan F\smallerthan 1/2$ (see the beginning of the proof of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#235'>3.15</a> below). The use of the constant function <span>&#8220;</span>$1/2$<span>&#8221;</span> in the proof of [<a class='reference' href='../../HTML citations/MR3162258.html' target='_blank'>MR3162258</a>, Lemma 2.3] can be replaced by $F$.
</p>

<!-- 3.16 -->
<div class='lemma' id='237'>
<span class='envidentifier'>Lemma</span> <span class='envcounter'>3.16</span> <span class='envop'>([<a class='reference' href='../../HTML citations/MR3162258.html' target='_blank'>MR3162258</a>, Lemma 2.3])</span>.
<p>
Any $T$ as in Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#235'>3.15</a> is a $\perp$-isomorphism.
</p>

</div>

<div class='proof' id='238'>
<span class='envidentifier'>Proof of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#235'>3.15</a></span>.
<p>
We will use Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#224'>3.11</a>. First we need to modify $T$ to obtain a lattice isomorphism. Since $\mathcal{A}(X)$ is a sublattice, then for all $f\in\mathcal{A}(X)$,
<div class='equation' id='239'>
\begin{equation*}
f^+=\max(f,0),\quad f^-=\max(-f,0)\quad\text{and}\quad|f|=f^++f^-\text{ belong to }\mathcal{A}(X).
\end{equation*}
</div>
</p>
<p>
As $\mathcal{A}(X)$ is regular and $X$ is compact, we can take finitely many functions $f_1,\ldots,f_n\in\mathcal{A}(X)$ such that for all $x\in X$, $f_i(x)\neq 0$ for some $i$, and therefore the function $F=\sum_{i=1}^n|f_i|$ belongs to $\mathcal{A}(X)$ and is non-vanishing, so $TF$ is also non-vanishing. We define new classes of functions
<div class='equation' id='240'>
\begin{equation*}
\mathcal{B}(X)=\left\{f/F:f\in\mathcal{A}(X)\right\},\qquad\mathcal{B}(Y)=\left\{g/TF:g\in\mathcal{A}(Y)\right\}.
\end{equation*}
</div>
It is immediate to see that $\mathcal{B}(X)$ and $\mathcal{B}(Y)$ are regular, and contain the constant functions of $X$ and $Y$, respectively. Define a linear isomorphism $S\colon \mathcal{B}(X)\to\mathcal{B}(Y)$, $S(f)=T(fF)/TF$, which preserves non-vanishing functions and satisfies $S(1)=1$. Given a scalar $\lambda$, linearity and the non-vanishing property of $S$ imply that, for all $f\in\mathcal{B}(X)$,
<div class='equation' id='241'>
\begin{align*}
\lambda\not\in f(X)&\iff f-\lambda\text{ is non-vanishing}\\
&\iff Sf-\lambda\text{ is non-vanishing}\iff \lambda\not\in Sf(Y),
\end{align*}
</div>
so $f(X)=Sf(Y)$, i.e., $S$ preserves images of functions.
</p>
<p>
However, in order to apply Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#224'>3.11</a> we also need to make sure that $\mathcal{B}(X)$ and $\mathcal{B}(Y)$ are lattices. As $F\greaterthan 0$, it readily follows that $\mathcal{B}(X)$ is a (self-adjoint) sublattice of $C(X,\mathbb{K})$, however this is not so immediate for $\mathcal{B}(Y)$.
</p>
<p>
As $S$ preserves images of functions, it preserves real functions. If $f\in\mathcal{B}(X)$, then $S(\operatorname{Re}(f))$ and $S(\operatorname{Im}(f))$ are real functions such that $Sf=S(\operatorname{Re}(f))+iS(\operatorname{Im}(f))$. As $T$ is a $\perp$-isomorphism then $S$ is also a $\perp$-isomorphism, so we also obtain $S(\operatorname{Re}(f))\perp S(\operatorname{Im}(f))$. This is enough to conclude that $S$ preserves real and imaginary parts of functions, from which it follows that $\mathcal{B}(Y)$ is self-adjoint. Similarly, $S$ preserves positive and negative parts of functions. In particular, if $f\in\mathcal{B}(Y)$ then $f^+\in\mathcal{B}(Y)$, and this is enough to conclude that $\mathcal{B}(Y)$ is a sublattice of $C(Y,\mathbb{K})$, and that $S$ is an order-preserving isomorphism.
</p>
<p>
We may then consider only real-valued functions, and the complex case will follow by linearity (and since $S$ preserves real and imaginary parts). By Kaplansky's Theorem (<a class='reference' href='A general Banach-Stone type theorem and applications_3.html#224'>3.11</a>), we can construct the $S$-homeomorphism $\phi\colon Y\to X$. Now we need to prove that $S$ is $\phi$-basic.
</p>
<p>
Suppose $f(x)\neq 0$ for a given $x\in X$, and let us assume, without loss of generality, that $f(x)\greaterthan 0$. Then $f\greaterthan 0$ on some neighbourhood $U$ of $x$. Again using compactness of $X\setminus U$ and regularity of the sublattice $\mathcal{B}(X)$ we can construct a function $g\in\mathcal{B}(X)$ such that $g=0$ on some neighbourhood of $x$ and $g\greaterthan 0$ on $X\setminus U$. Letting $\widetilde{f}=f\lor g$, we have $\widetilde{f}=f$ on some neighbourhood of $x$, so $S\widetilde{f}=Sf$ on some neighbourhood of $\phi^{-1}(x)$. But $\widetilde{f}$ is non-vanishing, so $S\widetilde{f}$ is also non vanishing and in particular $Sf(\phi^{-1}(x))\neq 0$. This proves that $S$ is basic with respect to $\phi$.
</p>
<p>
Letting $\chi\colon Y\times\mathbb{R}\to\mathbb{R}$ be the $S$-transform, we have that all sections $\chi(y,\cdot)$ are linear and increasing (Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#125'>2.7</a>), hence of the form $\chi(y,t)=P(y)t$ for a certain $P(y)\greaterthan 0$. Since $S(1)=1$ then $P=1$, that is, $\chi(y,t)=t$ for all $t\in\mathbb{R}$.
</p>
<p>
Finally, for all $f\in\mathcal{A}(X)$ and $y\in Y$,
<div class='equation' id='242'>
\begin{equation*}
Tf(y)=(TF)(y)\left[S\left(\frac{f}{F}\right)(y)\right]=(TF)(y)\chi\left(y,\frac{f}{F}(\phi(y))\right)=\frac{TF(y)}{F(\phi(y))}f(\phi(y)),
\end{equation*}
</div>
as we wanted.
</p>

</div>

<h3 class='subsection' id='243'>3.5. Jarosz' Theorem</h3>
<p>
Throughout this subsection, we fix $\mathbb{K}=\mathbb{R}$ or $\mathbb{C}$. Given a locally compact Hausdorff space $X$, we let $C_c(X)=C_c(X,0)$, the vector space of compactly supported $\mathbb{K}$-valued functions.
</p>

<!-- 3.17 -->
<div class='theorem' id='244'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.17</span> <span class='envop'>(Jarosz [<a class='reference' href='../../HTML citations/MR1060366.html' target='_blank'>MR1060366</a>])</span>.
<p>
If $T\colon C_c(X)\to C_c(Y)$ is a linear $\perp$-isomorphism, then there exist a homeomorphism $\phi\colon Y\to X$ and a continuous non-vanishing function $p\colon Y\to\mathbb{K}$ such that $Tf(y)=p(y)f(\phi(y))$ for all $f\in C_c(X)$ and $y\in Y$.
</p>

</div>
<div class='proof' id='245'>
<span class='envidentifier'>Proof</span>.
<p>
<b>First assume that $X$ and $Y$ are compact</b>, and let us show that $f\neq 0$ everywhere if and only if $Tf\neq 0$ everywhere. Suppose otherwise, say $f(x)=0$, and we have two cases: first, if $f$ is constant on a neighbourhood of $x$, this means that $Z(f)\neq \varnothing$, and Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_1.html#72'>1.16</a> implies that $Z(Tf)\neq \varnothing$, and in particular $Tf(y)=0$ for any $y\in Z(Tf)$.
</p>
<p>
In the second case, if $f$ is not constant on any neighbourhood of $x$, an argument similar to the one in the proof of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#183'>3.4</a> yields a contradiction to $Tf$ being bounded, so $Tf(y)=0$ for some $y\in Y$.
</p>
<p>
The result follows in this case from the Li&#8210;Wong Theorem (Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#235'>3.15</a>).
</p>
<p>
<b>Now let $X$ and $Y$ be arbitrary locally compact Hausdorff.</b> Given $b\in C_c(X)$, set $T_b\colon C(\supp(b))\to C(\supp(Tb))$ as $T_bf=(Tf')|_{\supp(Tb)}$, where $f'$ is any element of $C_c(X)$ extending $f$. Note that $T_bf$ does not depend on the choice of $f'$, because $T$ is an additive $\perp$-isomorphism (and Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_1.html#72'>1.16</a>).
</p>
<p>
Since $f\perpp g$ if and only if $f|_{\supp(b)}\perpp g|_{\supp(b)}$ for all $b$, the previous case allows us to obtain functions $p^b$ and $\phi^b$ such that $Tf(y)=p^b(y)f(\phi^b(y))$ for all $y\in\supp(Tb)$. Clearly, if $b\subseteq b'$ then $p^{b'}|_{\supp(b)}=p^b$ and $\phi^{b'}|_{\supp(b)}=\phi^{b'}$. Thus defining $p$ and $\phi$ as $p(y)=p^b(y)$ and $\phi(y)=\phi^b(y)$ where $b\in C_c(X)$ is such that $y\in\supp(b)$ we obtain the desired maps.
</p>

</div>

<h3 class='subsection' id='246'>3.6. Banach&#8210;Stone Theorem</h3>
<p>
We use the same notation as in the previous subsection. Given a locally compact Hausdorff space $X$, endow $C_c(X)$ with the supremum norm: $\Vert f\Vert_\infty=\sup_{x\in X}|f(x)|$.
</p>
<p>
Recall that, by the Riesz&#8210;Markov&#8210;Kakutani Representation Theorem ([<a class='reference' href='../../HTML citations/MR584266.html' target='_blank'>MR584266</a>, Theorem 2.14]), continuous linear functionals on $C_c(X)$ correspond to (integration with respect to) regular Borel measures on $X$. As a consequence, the extremal points $T$ of the unit ball of the dual of $C_c(X)$ have the form $T(f)=\lambda f(x)$ for some $x\in X$ and $|\lambda|=1$.
</p>
<p>
Given $f\in C_c(X)$, denote by $N(f)$ the set of extremal points $T$ in the unit ball of the dual space $C_c(X)^*$ such that $T(f)\neq 0$. From the previous paragraph we obtain
<div class='equation' id='247'>
\begin{equation*}
f\perp g\iff N(f)\cap N(g)=\varnothing\tag{BS},
\end{equation*}
</div>
and the Banach&#8210;Stone Theorem is an immediate consequence of Jarosz' Theorem.
</p>

<!-- 3.18 -->
<div class='theorem' id='248'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.18</span> <span class='envop'>(Banach&#8210;Stone [<a class='reference' href='../../HTML citations/MR1501905.html' target='_blank'>MR1501905</a>])</span>.
<p>
Let $X$ and $Y$ be locally compact Hausdorff spaces and let $T\colon C_c(X)\to C_c(Y)$ be an isometric linear isomorphism. Then there exists a homeomorphism $\phi\colon Y\to X$ and a continuous function $p\colon Y\to\mathbb{S}^1$ for which
<div class='equation' id='249'>
\begin{equation*}
Tf(y)=p(y)f(\phi(y))\qquad\forall f\in C(X),\ \forall y\in Y.
\end{equation*}
</div>
</p>

</div>

<h3 class='subsection' id='250'>3.7. $L^1$-spaces</h3>
<p>
Let $\mathbb{K}=\mathbb{R}$ or $\mathbb{C}$ be fixed. Given a topological space $X$, $C_c(X)$ will denote the space of $\mathbb{K}$-valued compactly supported continuous functions on $X$, where supports are the usual ones: $\supp(f)=\overline{[f\neq 0]}$.
</p>
<p>
Following [<a class='reference' href='../../HTML citations/MR924157.html' target='_blank'>MR924157</a>], a Borel measure $\mu$ on $X$ will be called <em>regular</em> if
</p>

<ul>

<li id='251'>
<p>
$\mu$ is locally finite (i.e., all compact sets have finite measure);
</p>

</li>

<li id='252'>
<p>
For every Borel $E\subseteq X$, $\mu(E)=\inf\left\{\mu(V):E\subseteq V,\ V\text{ open}\right\}$;
</p>

</li>

<li id='253'>
<p>
For every open $U\subseteq X$ with $\mu(U)\smallerthan \infty$, $\mu(U)=\sup\left\{\mu(K):K\subseteq U,\ K\text{ compact}\right\}$.
</p>

</li>
</ul>
<p>
and recall that the <em>support</em> of $\mu$ is the set of points $x\in X$ whose neighbourhoods always have positive measure. We say that $\mu$ is <em>fully supported</em> (on $X$) is the support of $\mu$ coincides with $X$, i.e., if every nonempty open subset has positive measure.
</p>
<p>
We will now prove that the $C_c(X)$ endowed with the $L^1$-norm of a fully supported measure $\mu$ completely determine both $X$ and $\mu$. The following lemma describes the $\perp$ relation in terms of the $L^1$-norm, and follows from elementary measure-theoretic considerations.
</p>

<!-- 3.19 -->
<div class='lemma' id='254'>
<span class='envidentifier'>Lemma</span> <span class='envcounter'>3.19</span>.
<p>
Let $X$ be a locally compact Hausdorff space and $\mu$ a fully supported, locally finite Borel measure on $X$. If $\Vert\cdot\Vert_1$ denotes the corresponding $L^1$-norm, then for all $f,g\in C_c(X)$, $f\perp g$ if and only if
<div class='equation' id='255'>
\begin{equation*}
\Vert Af+Bg\Vert_1=|A|\Vert f\Vert_1+|B|\Vert g\Vert_1\qquad\forall A,B\in\mathbb{K}\tag{3.3}
\end{equation*}
</div>
</p>

</div>

<!-- 3.20 -->
<div class='theorem' id='256'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.20</span>.
<p>
Let $X$ and $Y$ be locally compact Hausdorff spaces with fully supported regular Borel measures $\mu_X$ and $\mu_Y$, and let $T\colon C_c(X)\to C_c(Y)$ be a linear isomorphism which is isometric with respect to the $L^1$-norms. Then there exists a homeomorphism $\phi\colon Y\to X$ and a continuous function $p\colon Y\to\mathbb{S}^1$ such that
<div class='equation' id='257'>
\begin{equation*}
Tf(y)=p(y)\frac{d\mu_X}{d(\phi_*\mu_Y)}(\phi(y))f(\phi(y))
\end{equation*}
</div>
for all $f\in C_c(X)$ and $y\in Y$.
</p>

</div>
<div class='proof' id='258'>
<span class='envidentifier'>Proof</span>.
<p>
By the previous lemma, $T$ is a $\perp$-isomorphism, so Jarosz' Theorem (<a class='reference' href='A general Banach-Stone type theorem and applications_3.html#244'>3.17</a>) implies that there are a homeomorphism $\phi\colon Y\to X$ and a non-vanishing continuous function $P\colon Y\to\mathbb{C}$ such that $T(f)(y)=P(y)f(\phi(y))$ for all $f\in C_c(X)$ and $y\in Y$.
</p>
<p>
Now using the fact that $T$ is isometric, we have, for every $f\in C_c(X)$,
<div class='equation' id='259'>
\begin{equation*}
\int_X|f|d\mu_X=\int_Y|Tf|d\mu_Y=\int_Y|P||f\circ\phi|d\mu_Y=\int_X|P\circ\phi^{-1}||f|d(\phi_*\mu_Y)
\end{equation*}
</div>
which means that $|P\circ\phi^{-1}|$ is a continuous instance of the Radon&#8210;Nikodym derivative $d\mu_X/d(\phi_*\mu_Y)$. Since $p=P/|P|\colon Y\to\mathbb{S}^1$ is continuous, we obtain the result.
</p>

</div>

<h3 class='subsection' id='260'>3.8. Measured groupoid convolution algebras</h3>
<p>
In the next three results, we will focus on convolution algebras of topological groupoids. First, we will consider <em>measured groupoids</em> in the sense of Hahn. See [<a class='reference' href='../../HTML citations/MR496796.html' target='_blank'>MR496796</a>], <a class='reference' href='../../HTML citations/MR496797.html' target='_blank'>MR496797</a>], <a class='reference' href='../../HTML citations/MR584266.html' target='_blank'>MR584266</a>], <a class='reference' href='../../HTML citations/MR1444088.html' target='_blank'>MR1444088</a>], <a class='reference' href='../../HTML citations/MR0427598.html' target='_blank'>MR0427598</a>]. Note that throughout this section we consider only regular measures.
</p>
<p>
Recall that a <em>groupoid</em> $\mathcal{G}$ is a small category with inverses, and a <em>topological groupoid</em> is a groupoid endowed with a topology making the product and inversion maps continuous.
</p>
<p>
The <em>source</em> and <em>range</em> maps on $\mathcal{G}$ are defined as $\so(a)=a^{-1}a$ and $\ra(a)=aa^{-1}$, respectively. The <em>unit space</em> of $\mathcal{G}$ is $\mathcal{G}^{(0)}=\so(\mathcal{G})$, and is identified with the object space of $\mathcal{G}$. We denote by $\mathcal{G}^{(2)}=\left\{(a,b)\in\mathcal{G}\times\mathcal{G}:\so(a)=\ra(b)\right\}$ the set of <em>composable pairs</em>, i.e., pairs $(a,b)$ for which the product $ab$ is defined. Given $x,y\in\mathcal{G}^{(0)}$, we denote $\mathcal{G}^y=\ra^{-1}(x)$, $\mathcal{G}_x=\so^{-1}(x)$, and $\mathcal{G}_x^y=\mathcal{G}^y\cap\mathcal{G}_x$. We call $\mathcal{G}_x^x$ the <em>isotropy group</em> at $x$. The product of two subsets $A,B\subseteq\mathcal{G}$ is $AB=\left\{ab:(a,b)\in(A\times B)\cap\mathcal{G}^{(2)}\right\}$.
</p>
<p>
Common examples of topological groupoids are: Equivalence relations, topological groups (where $\mathcal{G}^{(0)}$ is a singleton) and topological spaces (where $\mathcal{G}=\mathcal{G}^{(0)}$). More generally, every continuous group action induces a <em>transformation groupoid</em>.
</p>
<p>
Initially, given a locally compact Hausdorff topological groupoid $\mathcal{G}$, we consider $C_c(\mathcal{G})$, the space of real or complex-valued, compactly supported, continuous functions on $\mathcal{G}$, simply as a vector space (with pointwise operations). Recall the notion of a <em>Haar system</em>:
</p>

<!-- 3.21 -->
<div class='definition' id='261'>
<span class='envidentifier'>Definition</span> <span class='envcounter'>3.21</span> <span class='envop'>([<a class='reference' href='../../HTML citations/MR584266.html' target='_blank'>MR584266</a>, Definition 2.2])</span>.
<p>
A (continuous) <em>left Haar system</em> for a locally compact Hausdorff topological groupoid $\mathcal{G}$ is a collection of regular Borel measures $\lambda=\left\{\lambda^x:x\in\mathcal{G}^{(0)}\right\}$ on $\mathcal{G}$ such that
</p>

<style>ol.altlist262 > li:before {
content:  '(' counter(listcounter,lower-roman) ')';
}
</style>
<ol class='alt altlist262'>

<li id='263'>
<p>
For each $x\in\mathcal{G}^{(0)}$, $\lambda^x$ has support contained in $\mathcal{G}^x$;
</p>

</li>

<li id='264'>

(left invariance) For each $a\in\mathcal{G}$, $\lambda^{\ra(a)}(aE)=\lambda^{\so(a)}(E)$ for every compact $E\subseteq \mathcal{G}^{\so(a)}$;

</li>

<li id='265'>

(continuity) For each $f\in C_c(\mathcal{G})$, the map $\mathcal{G}^{(0)}\to\mathbb{C}$, $x\mapsto \int fd\lambda^x$, is continuous.

</li>
</ol>
<p>
We will not make any distinction of whether each $\lambda^x$ is considered as a measure on $\mathcal{G}$ or as a measure on $\mathcal{G}^x$. We say that $\lambda$ is <em>fully supported</em> if the support of $\lambda^x$ is all of $\mathcal{G}^x$ for all $x\in\mathcal{G}^{(0)}$.
</p>

</div>
<p>
Left invariance of $\lambda$ implies that for all $a\in\mathcal{G}$ and $f\in C_c(\mathcal{G}^{\ra(a)})$
<div class='equation' id='266'>
\begin{equation*}
\int f(s)d\lambda^{\ra(a)}(s)=\int f(at)d\lambda^{\so(a)}(t)
\end{equation*}
</div>
and we endow $C_c(\mathcal{G})$ with convolution product
<div class='equation' id='267'>
\begin{equation*}
(fg)(a)=\int f(s)g(s^{-1}a)\lambda^{\ra(a)}(s)=\int f(at)g(t^{-1})\lambda^{\so(a)}(t),
\end{equation*}
</div>
which makes $C_c(\mathcal{G})$ an algebra. It follows that for all $f,g\in C_c(\mathcal{G})$,
<div class='equation' id='268'>
\begin{equation*}
\supp(fg)\subseteq\supp(f)\supp(g).\tag{3.4}
\end{equation*}
</div>
</p>

<!-- 3.22 -->
<div class='definition' id='269'>
<span class='envidentifier'>Definition</span> <span class='envcounter'>3.22</span>.
<p>
Let $\mathcal{G}$ be a locally compact Hausdorff topological groupoid with a left Haar system $\lambda$. Given a regular Borel measure $\mu$ on $\mathcal{G}^{(0)}$, the measure <em>induced</em> by $\mu$ and $\lambda$ is the unique regular Borel measure $(\lambda\circ\mu)$ on $\mathcal{G}$ which satisfies
<div class='equation' id='270'>
\begin{equation*}
(\lambda\circ\mu)(E)=\int_{\mathcal{G}^{(0)}}\lambda^x(E)d\mu(x)
\end{equation*}
</div>
for every compact $E\subseteq\mathcal{G}$. (The existence of $(\lambda\circ\mu)$ is guaranteed by the Riesz&#8210;Markov&#8210;Kakutani Representation Theorem.)
</p>

</div>
<p>
If $\mu$ is fully supported on $\mathcal{G}^{(0)}$ and $\lambda$ is a fully supported Haar system on a locally compact Hausdorff groupoid $\mathcal{G}$, then $(\lambda\circ\mu)$ is fully supported on $\mathcal{G}$.
</p>
<p>
The following lemma will allow us to verify if certain maps are groupoid morphisms.
</p>

<!-- 3.23 -->
<div class='lemma' id='271'>
<span class='envidentifier'>Lemma</span> <span class='envcounter'>3.23</span>.
<p>
Given a topological groupoid $\mathcal{G}$ with $\mathcal{G}^{(0)}$ Hausdorff and $a,b\in\mathcal{G}$, we have $\so(a)=\ra(b)$ if and only if for every pair of neighbourhoods $U$ of $a$ and $V$ of $b$ the product $UV$ is nonempty.
</p>

</div>
<div class='proof' id='272'>
<span class='envidentifier'>Proof</span>.
<p>
From the second condition one can construct two nets $(a_i)_i$ and $(b_i)_i$ (over the same ordered set) converging to $a$ and $b$, respectively, such that $\so(a_i)=\ra(b_i)$, and so $\so(a)=\ra(b)$ because $\mathcal{G}^{(0)}$ is Hausdorff. The reverse implication is trivial.
</p>

</div>

<!-- 3.24 -->
<div class='lemma' id='273'>
<span class='envidentifier'>Lemma</span> <span class='envcounter'>3.24</span>.
<p>
If $\lambda$ and $\mu$ are continuous Haar systems on a locally compact Hausdorff topological groupoid $\mathcal{G}$ such that the Radon&#8210;Nikodym derivatives $D^x=\frac{d\lambda^x}{d\mu^x}$ exist for all $x\in\mathcal{G}^{(0)}$, then $D$ is invariant in the sense that for all $a\in\mathcal{G}$ and $\mu^{\so(a)}$-almost every $g\in\mathcal{G}^{\so(a)}$, $D^{\ra(a)}(ag)=D^{\so(a)}(g)$.
</p>

</div>
<div class='proof' id='274'>
<span class='envidentifier'>Proof</span>.
<p>
Using invariance of $\mu$ and $\lambda$, we have, for every $f\in C_c(\mathcal{G}^{\so(a)})$,
<div class='equation' id='275'>
\begin{align*}
\int f(t) D^{\ra(a)}(at)d\mu^{\so(a)}(t)&=\int f(a^{-1}s)D^{\ra(a)}(s)d\mu^{\ra(a)}(s)\\
&=\int f(a^{-1}s)d\lambda^{\ra(a)}(s)=\int f(t)d\lambda^{\so(a)}(t).
\end{align*}
</div>
Thus $t\mapsto D^{\ra(a)}(at)$ satisfies the property of the Radon&#8210;Nikodym derivative $d\lambda^{\so(a)}/d\mu^{\so(a)}=D^{\so(a)}$, hence these functions coincide $\mu^{\so(a)}$-a.e.
</p>

</div>
<p>
Now we prove that the convolution algebra $C_c(\mathcal{G})$ together with the $L^1$-norm coming from $\lambda\circ\mu$, where $\lambda$ is a fully supported Haar system on $\mathcal{G}$ and $\mu$ is a fully supported measure on $\mathcal{G}^{(0)}$ completely determines the triple $(\mathcal{G},\lambda,\mu)$, up to isomorphism (compare to [<a class='reference' href='../../HTML citations/MR2102633.html' target='_blank'>MR2102633</a>]). We denote by $\mathbb{S}^1$ the <em>circle group</em> (of complex numbers with absolute value $1$ under multiplication).
</p>

<!-- 3.25 -->
<div class='theorem' id='276'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.25</span>.
<p>
Let $\mathcal{G}$ and $\mathcal{H}$ be locally compact Hausdorff groupoids. For each $Z\in\left\{\mathcal{G},\mathcal{H}\right\}$, let $\lambda_Z$ be a fully supported Haar system on $Z$, and $\mu_Z$ a fully supported regular Borel measure on $Z^{(0)}$.
</p>
<p>
If $T\colon C_c(\mathcal{G})\to C_c(\mathcal{H})$ is an algebra isomorphism which is isometric with respect to the $L^1$-norms of $(\lambda_Z\circ \mu_Z)$ ($Z\in\left\{\mathcal{G},\mathcal{H}\right\}$), then there are a topological groupoid isomorphism $\phi:\mathcal{H}\to\mathcal{G}$ and a continuous morphism $p:\mathcal{H}\to\mathbb{S}^1$ such that
<div class='equation' id='277'>
\begin{equation*}
Tf(h)=p(h)D(\phi(h))f(\phi(h))
\end{equation*}
</div>
where $D$ is a continuous instance of the Radon&#8210;Nikodym derivative
<div class='equation' id='278'>
\begin{equation*}
D(a)=\frac{d\lambda_{\mathcal{G}}^{\ra(a)}}{d(\phi_*\lambda_{\mathcal{H}}^{\phi^{-1}(\ra(a))})}(a)
\end{equation*}
</div>
and in this case, $\mu_{\mathcal{G}}=\phi_*\mu_{\mathcal{H}}$.
</p>

</div>
<div class='proof' id='279'>
<span class='envidentifier'>Proof</span>.
<p>
Again applying Lemma <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#254'>3.19</a> and Jarosz' Theorem (<a class='reference' href='A general Banach-Stone type theorem and applications_3.html#244'>3.17</a>), we can find a homeomorphism $\phi\colon\mathcal{H}\to\mathcal{G}$ and a continuous non-vanishing scalar function $P$ such that
<div class='equation' id='280'>
\begin{equation*}
Tf(h)=P(h) f(\phi(h))\qquad\text{for all } f\in C_c(\mathcal{G})\text{ and }h\in\mathcal{H}.
\end{equation*}
</div>
</p>
<p>
Let us check that $\phi$ is a groupoid morphism. Suppose $(a,b)\in\mathcal{H}^{(2)}$, and consider neighbourhoods $U$ and $V$ of $\phi(a)$ and $\phi(b)$, respectively.
</p>
<p>
Choose non-negative functions $f_U,f_V\in C_c(\mathcal{H})$ such that
<div class='equation' id='281'>
\begin{equation*}
\supp(f_a)\subseteq\phi^{-1}(U),\quad\supp(f_b)\subseteq \phi^{-1}(V)\quad\text{and}\quad f_a(a)=f_b(b)=1.
\end{equation*}
</div>
Then $ab\in\supp(f_af_b)$, because $\lambda_{\mathcal{H}}$ has full support, and so $\phi(ab)\in\supp(T^{-1}(f_af_b))$. As $\phi$ is the $T$-homeomorphism and $T$ is an isomorphism, the inclusion in <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#268'>(3.4)</a> implies $\phi(ab)\subseteq UV$. By Lemma <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#271'>3.23</a>, the product $\phi(a)\phi(b)$ is defined, and moreover, continuity of the product implies that every neighbourhood of $\phi(a)\phi(b)$ contains $\phi(ab)$. Since $\mathcal{G}$ is Hausdorff then $\phi(ab)=\phi(a)\phi(b)$. Therefore $\phi$ is a morphism and a homeomorphism, thus a topological groupoid isomorphism.
</p>
<p>
We now need to rewrite the function $P$ as $P(h)=p(h)D(\phi(h))$ as in the statement of the theorem, and to this end we use multiplicativity of $T$ and compare integrals. If $f,g\in C_c(\mathcal{G})$ and $c\in\mathcal{H}$, then on one hand
<div class='equation' id='282'>
\begin{align*}
T(fg)(c)&=(TfTg)(c)=\int_{\mathcal{G}^{\ra(c)}} Tf(t)Tg(t^{-1}c)\lambda_{\mathcal{H}}^{\ra(c)}(t)\\
&=\int_{\mathcal{H}^{\ra(c)}} P(t)f(\phi(t))P(t^{-1}c)g(\phi(t^{-1}c))d\lambda_{\mathcal{H}}^{\ra(c)}(t)\\
&=\int_{\mathcal{G}^{\phi(\ra(c))}} P(\phi^{-1}(s))f(s)P(\phi^{-1}(s)^{-1}c)g(s^{-1}\phi(c))d(\phi_*\lambda_{\mathcal{H}}^{\ra(c)})(s)\tag{3.5}
\end{align*}
</div>
and on the other
<div class='equation' id='283'>
\begin{align*}
T(fg)(c)&=P(c)(fg)(\phi(c))=P(c)\int_{\mathcal{G}^{\phi(\ra(c))}} f(t)g(t^{-1}\phi(c))d\lambda_{\mathcal{G}}^{\phi(\ra(c))}(t)\tag{3.6}
\end{align*}
</div>
</p>
<p>
Now let $f\in C_c(\mathcal{G}^{\phi(\ra(c))})$ be an arbitrary non-negative function. Define $g\in C_c(\mathcal{G}_{\phi(\so(c))})$ by $g(t)=f(\phi(c)t^{-1})$. Extending $f$ and $g$ arbitrarily to elements of $C_c(\mathcal{G})$, Equations <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#282'>(3.5)</a> and <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#283'>(3.6)</a> become
<div class='equation' id='284'>
\begin{equation*}
\int_{\mathcal{G}^{\phi(\ra(c))}} P(\phi^{-1}(s))P(\phi^{-1}(s)^{-1}c)|f(s)|^2d\phi_*\lambda_{\mathcal{H}}^{\ra(c)}(s)=P(c)\int_{\mathcal{G}^{\phi(\ra(c))}} |f(s)|^2d\lambda_{\mathcal{G}}^{\phi(\ra(c))}(s)\tag{3.7}
\end{equation*}
</div>
for all non-negative $f\in C_c(\mathcal{G}^{\phi(\ra(c))})$ and all $c\in\mathcal{H}$. Define $D\colon\mathcal{G}\to\mathbb{C}$ (or $\mathbb{R}$ in the real case) by
<div class='equation' id='285'>
\begin{equation*}
D(s)=\frac{P(\phi^{-1}(s))P(\phi^{-1}(s)^{-1})}{P(\phi^{-1}(\ra(s)))}.
\end{equation*}
</div>
Using Equation <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#284'>(3.7)</a> with $y=\ra(c)$ in place of $c$, we obtain
<div class='equation' id='286'>
\begin{equation*}
\int_{\mathcal{G}^{\phi(y)}} D(s)|f(s)|^2d(\phi_*\lambda_{\mathcal{H}}^{y})(s)=\int_{\mathcal{G}^{\phi(y)}}|f(s)|^2d\lambda_{\mathcal{G}}^{\phi(y)}(s)
\end{equation*}
</div>
for all $f\in C_c(\mathcal{G}^{\phi(y)})$, thus $D$ is a continuous instance of the Radon&#8210;Nikodym derivative
<div class='equation' id='287'>
\begin{equation*}
D(s)=\frac{d\lambda_{\mathcal{G}}^{\phi(y)}}{d(\phi_*\lambda_{\mathcal{H}}^{y})}(s)=\frac{d\lambda_{\mathcal{G}}^{\phi(\ra(c))}}{d(\phi_*\lambda_{\mathcal{H}}^{\ra(c)})}(s).
\end{equation*}
</div>
Now applying this to Equation <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#284'>(3.7)</a>, and using regularity of all measures involved, we conclude that for $\lambda_{\mathcal{G}}^{\phi(\ra(c))}$-a.e. $s\in\mathcal{G}^{\phi(\ra(c))}$
<div class='equation' id='288'>
\begin{equation*}
P(\phi^{-1}(s))P(\phi^{-1}(s)^{-1}c)=D(s)P(c)
\end{equation*}
</div>
and since all functions involved are continuous, and $\lambda_{\mathcal{G}}^{\phi(\ra(c))}$ has full support, the same equality is actually valid for <em>all</em> $s\in\mathcal{G}^{\phi(\ra(c))}$. Equivalently, for all $c\in\mathcal{H}$ and all $t\in\mathcal{H}^{\ra(c)}$, $P(t)P(t^{-1}c)=D(\phi(t))P(c)$. Together with Lemma <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#273'>3.24</a>, this implies that the map $p=P/(D\circ\phi)$ is a continuous groupoid morphism from $\mathcal{H}$ to the group of non-zero scalars.
</p>
<p>
Now let us verify that $\mu_{\mathcal{G}}$ and $\phi_*\mu_{\mathcal{H}}$ are equivalent measures. By regularity of the measures, we may extend the formula $T(f)=P\cdot (f\circ\phi)$ to obtain a linear isomorphism between the classes of measurable functions on $\mathcal{G}$ and on $\mathcal{H}$, and which restricts to an isometry from $L^1(\lambda_{\mathcal{G}}\circ\mu_{\mathcal{G}})$ to $L^1(\lambda_{\mathcal{H}}\circ\mu_{\mathcal{H}})$. Suppose that $K\subseteq\mathcal{G}^{(0)}$ has positive $\mu_{\mathcal{G}}$-measure, and let $f=1_{\ra^{-1}(K)}$ be the characteristic function of $\ra^{-1}(K)$. Then $Tf=P\cdot 1_{\phi^{-1}(\ra(K))}$. As $\Vert f\Vert_{\mathcal{G}}\greaterthan 0$, then $\Vert Tf\Vert_{\mathcal{H}}\greaterthan 0$ as well, so the support of $Tf$ has positive $(\lambda_{\mathcal{H}}\circ\mu_{\mathcal{H}})$-measure, and this implies that $\ra(\supp(Tf))=\phi^{-1}(K)$ has positive $\mu_{\mathcal{H}}$-measure. Therefore $\mu_{\mathcal{G}}$ is absolutely continuous with respect to $\phi_*\mu_{\mathcal{H}}$. The reverse implication is similar.
</p>
<p>
To prove that $p$ takes value in $\mathbb{S}^1$, let us denote by $\Vert\cdot\Vert_Z$ the $L^1$-norm with respect to $(\lambda_Z\circ\mu_Z)$ when $Z\in\left\{\mathcal{G},\mathcal{H}\right\}$. For all $f\in C_c(\mathcal{G})$ we have
<div class='equation' id='289'>
\begin{align*}
\Vert Tf\Vert_{\mathcal{H}}&=\int_{\mathcal{H}^{(0)}}\left(\int_{\mathcal{H}^y}|Tf|d\lambda_{\mathcal{H}}^y\right)d\mu_{\mathcal{H}}(y)=\int_{\mathcal{H}^{(0)}}\left(\int_{\mathcal{H}^y}D|p(f\circ\phi)|d\lambda_{\mathcal{H}}^y\right)d\mu_{\mathcal{H}}(y)\\
&=\int_{\mathcal{G}^{(0)}}\left(\int_{\mathcal{G}^{x}}|(p\circ\phi^{-1})f|d\lambda_{\mathcal{G}}^x\right)d(\phi_*\mu_{\mathcal{H}})(x)\\
&=\int_{\mathcal{G}^{(0)}}\left(\int_{\mathcal{G}^{x}}|(p\circ\phi^{-1})(s)|\left(\frac{d(\phi_*\mu_{\mathcal{H}})}{d\mu_{\mathcal{G}}}(x)\right)|f(s)|d\lambda_{\mathcal{G}}^x(s)\right)d\mu_{\mathcal{G}}(x)\\
&=\int_{\mathcal{G}^{(0)}}\left(\int_{\mathcal{G}^{x}}|(p\circ\phi^{-1})(s)|\left(\frac{d(\phi_*\mu_{\mathcal{H}})}{d\mu_{\mathcal{G}}}(\ra(s))\right)|f(s)|d\lambda_{\mathcal{G}}^x(s)\right)d\mu_{\mathcal{G}}(x)\\
&=\int_{\mathcal{G}}|p\circ\phi^{-1}|\left(\frac{d(\phi_*\mu_{\mathcal{H}})}{d\mu_{\mathcal{G}}}\circ\ra\right)|f(s)|d(\lambda_{\mathcal{G}}\circ\mu_{\mathcal{G}})
\end{align*}
</div>
and since $\Vert Tf\Vert_{\mathcal{H}}=\Vert f\Vert_{\mathcal{G}}=\int_{\mathcal{G}}|f|d(\lambda_{\mathcal{G}}\circ\mu_{\mathcal{G}})$, we obtain
<div class='equation' id='290'>
\begin{equation*}
|p\circ\phi^{-1}|=\frac{d\mu_{\mathcal{G}}}{d(\phi_*\mu_{\mathcal{H}})}\circ\ra\qquad(\lambda_{\mathcal{G}}\circ\mu_{\mathcal{G}})\text{-a.e.}\tag{3.8}
\end{equation*}
</div>
Since $p$ is a morphism then $p(\mathcal{H}^{(0)})=\left\{1\right\}$, which, along with Equation <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#290'>(3.8)</a> and continuity of $p$, yields $|p|=|p\circ\ra|=1$ on $\mathcal{H}$. The same  Equation (<a class='reference' href='A general Banach-Stone type theorem and applications_3.html#290'>3.8</a>) then also implies $\mu_{\mathcal{G}}=\phi_*\mu_{\mathcal{H}}$.
</p>

</div>

<div class='alt' id='291'>
<span class='envidentifier'>Remark</span>
<p>
In the case of groups, the same type of classification was first proven by Wendel in [<a class='reference' href='../../HTML citations/MR0049910.html' target='_blank'>MR0049910</a>], when considering the whole $L^1$-algebras of locally compact Hausdorff groups instead of only algebras of compactly supported continuous functions. Further generalizations of Wendel's Theorem were proven in [<a class='reference' href='../../HTML citations/MR0177058.html' target='_blank'>MR0177058</a>] and [<a class='reference' href='../../HTML citations/MR0193531.html' target='_blank'>MR0193531</a>], and closely results in [<a class='reference' href='../../HTML citations/MR0160846.html' target='_blank'>MR0160846</a>] and [<a class='reference' href='../../HTML citations/MR0361622.html' target='_blank'>MR0361622</a>].
</p>

</div>

<h3 class='subsection' id='292'>3.9. $(I,\ra)$-Groupoid convolution algebras</h3>
<p>
In the next result we will again use the convolution algebras of topological groupoids, however now we will consider another norm, which was already defined in the work of Hahn ([<a class='reference' href='../../HTML citations/MR496797.html' target='_blank'>MR496797</a>]) and played an important role in Renault's work ([<a class='reference' href='../../HTML citations/MR584266.html' target='_blank'>MR584266</a>]). A locally compact Hausdorff groupoid is <em>étale</em> if the range map $\ra\colon\mathcal{G}\to\mathcal{G}^{(0)}$ is a local homeomorphism. From this, it follows that $\mathcal{G}^{(0)}$ is open in $\mathcal{G}$, that the product map is open and that $\mathcal{G}^x$ is discrete for all $x\in\mathcal{G}^{(0)}$ (see [<a class='reference' href='../../HTML citations/MR2304314.html' target='_blank'>MR2304314</a>]).
</p>
<p>
Let $\mathcal{G}$ be a locally compact étale Hausdorff groupoid, $\mathbb{K}=\mathbb{R}$ or $\mathbb{C}$ and $\theta=0$, and let $\lambda$ be a Haar system for $\mathcal{G}$. Again, we will consider the convolution algebra $C_c(\mathcal{G})=C_c(\mathcal{G},\mathbb{K})$ as defined in the previous subsection.
</p>
<p>
Every left Haar system on an étale groupoid is essentially the counting measure ([<a class='reference' href='../../HTML citations/MR584266.html' target='_blank'>MR584266</a>, 2.7]), in the sense that for all $x,y\in\mathcal{G}^{(0)}$, the map $a\mapsto \lambda^{\ra(a)}(\left\{a\right\})$ is constant on set $\mathcal{G}_x^y$.
</p>
<p>
We define the $(I,\ra)$-norm on $C_c(\mathcal{G})$ as
<div class='equation' id='293'>
\begin{equation*}
\Vert f\Vert_{I,\ra}=\sup_{x\in\mathcal{G}^{(0)}}\int |f|d\lambda^x.
\end{equation*}
</div>
</p>
<p>
As $\mathcal{G}$ is Hausdorff, the unit space $\mathcal{G}^{(0)}$ of $\mathcal{G}$ is a closed subgroupoid of $\mathcal{G}$, hence (trivially) étale, Hausdorff and locally compact itself. The convolution product on $C_c(\mathcal{G}^{(0)})$ coincides with the pointwise product, and the $(I,\ra)$-norm is the uniform one: $\Vert f\Vert_{I,\ra}=\Vert f\Vert_\infty=\sup_{x\in\mathcal{G}^{(0)}}|f(x)|$.
</p>
<p>
Moreover, $\mathcal{G}^{(0)}$ is also open in $\mathcal{G}$ (because $\mathcal{G}$ is étale), so we can identify $C_c(\mathcal{G}^{(0)})$ with the subalgebra $\left\{f\in C_c(\mathcal{G}^{(0)}:\supp(f)\subseteq\mathcal{G}^{(0)}\right\}$ of $C_c(\mathcal{G})$.
</p>

<!-- 3.26 -->
<div class='definition' id='294'>
<span class='envidentifier'>Definition</span> <span class='envcounter'>3.26</span>.
<p>
The algebra $C_c(\mathcal{G}^{(0)})$, identified as a subalgebra of $C_c(\mathcal{G})$, is called the <em>diagonal subalgebra</em> of $C_c(\mathcal{G})$. If $\mathcal{G}$ and $\mathcal{H}$ are locally compact étale Hausdorff groupoids, an isomorphism $T\colon C_c(\mathcal{G})\to C_c(\mathcal{H})$ is called <em>diagonal-preserving</em> if $T(C_c(\mathcal{G}^{(0)}))=C_c(\mathcal{H}^{(0)})$.
</p>

</div>

<!-- 3.27 -->
<div class='theorem' id='295'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.27</span>.
<p>
Let $\mathcal{G}$ and $\mathcal{H}$ be locally compact Hausdorff étale groupoids with continuous fully supported left Haar systems $\lambda_G$ and $\lambda_H$, respectively, and $T\colon C_c(\mathcal{G})\to C_c(\mathcal{H})$ a diagonal-preserving algebra isomorphism, isometric with respect to the $(I,\ra)$-norms. Then there is a (unique) topological groupoid isomorphism $\phi\colon\mathcal{H}\to\mathcal{G}$ and a continuous morphism $p\colon\mathcal{H}\to\mathbb{S}^1$ such that
<div class='equation' id='296'>
\begin{equation*}
Tf(h)=p(h)D(\phi(h))f(\phi(h))
\end{equation*}
</div>
where $D$ is a continuous instance of the Radon&#8210;Nikodym derivative
<div class='equation' id='297'>
\begin{equation*}
D(a)=\frac{d\lambda_{\mathcal{G}}^{\ra(a)}}{d(\phi_*\lambda_{\mathcal{H}}^{\phi^{-1}(\ra(a))})}(a).
\end{equation*}
</div>
</p>

</div>
<div class='proof' id='298'>
<span class='envidentifier'>Proof</span>.
<p>
By the Banach&#8210;Stone Theorem (<a class='reference' href='A general Banach-Stone type theorem and applications_3.html#248'>3.18</a>), there is a homeomorphism $\phi\colon\mathcal{H}^{(0)}\to\mathcal{G}^{(0)}$ and a continuous function $P\colon\mathcal{H}^{(0)}\to\mathbb{S}^1$ such that $Tf(y)=P(y)f(\phi(y))$ for all $f\in C_c(\mathcal{G}^{(0)})$ and $y\in\mathcal{H}^{(0)}$. Since $T$ is multiplicative we obtain $P=1$. (The same conclusion can be obtained in a similar manner by Milgram's or Jarosz' Theorem.)
</p>
<p>
For each $x\in\mathcal{G}^{(0)}$, let $\left\{a^x_i:i\in I_x\right\}$ be a net of functions in $C_c(\mathcal{G}^{(0)})$ satisfying:
</p>

<style>ol.altlist299 > li:before {
content:  '(' counter(listcounter,lower-roman) ')';
}
</style>
<ol class='alt altlist299'>

<li id='300'>
<p>
$0\leq a^x_i\leq 1$, and $a^x_i(x)=1$;
</p>

</li>

<li id='301'>
<p>
$\bigcap_i\supp(a^x_i)=\left\{x\right\}$;
</p>

</li>

<li id='302'>
<p>
If $j\geq i$ then $[a^x_j\neq 0]\subseteq[a^x_i\neq 0]$.
</p>

</li>
</ol>
<p>
Items <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#301'>(ii)</a>-<a class='reference' href='A general Banach-Stone type theorem and applications_3.html#302'>(iii)</a> and compactness of each $\supp(a^x_i)$ imply that $\left\{[a^x_i\neq 0]:i\in I_x\right\}$ is a neighbourhood basis at $x$. For $y\in\mathcal{H}^{(0)}$, let $a^y_i=T(a^{\phi(y)}_i)=a^{\phi(y)}_i\circ\phi$, so that the net $\left\{a^y_i:i\in I_{\phi(y)}\right\}$ satisfies <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#300'>(i)</a>-<a class='reference' href='A general Banach-Stone type theorem and applications_3.html#302'>(iii)</a> as well.
</p>
<p>
Continuity of $\lambda_G$ implies that for all $x\in \mathcal{G}^{(0)}$ and $f\in C_c(\mathcal{G})$, $\lim_{i\in I_x}\Vert a^x_i f\Vert_{I,\ra}=\int |f(\gamma)|d\lambda^x(\gamma)$, and similarly on $\mathcal{H}$.
</p>
<p>
Given $f,g\in C_c(\mathcal{G})$, we use Lemma <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#254'>3.19</a> to obtain
<div class='equation' id='303'>
\begin{align*}
f\perp g&\iff\forall x\left(f|_{\mathcal{G}^x}\perp g|_{\mathcal{G}^x}\text{ in }C(\mathcal{G}^x)\right)\\
&\iff\forall x\forall A,B(\lim\Vert a^x_i(Af+Bg)\Vert_{I,\ra}=\lim(|A|\Vert a^x_i f\Vert_{I,\ra}+|B|\Vert a^x_i g\Vert_{I,\ra}
\end{align*}
</div>
and the last condition is preserved by $T$, so by Jarosz' Theorem $T$ is of the form $Tf(\alpha)=\widetilde{P}(\alpha)f(\widetilde{\phi}(\alpha))$ for a certain homeomorphism $\widetilde{\phi}\colon\mathcal{H}\to\mathcal{G}$ and a non-vanishing continuous scalar function $\widetilde{P}$. We can readily see that $\widetilde{\phi}$ and $\widetilde{P}$ are extensions of $\phi$ and $P$, respectively, so instead let us simply denote $\widetilde{\phi}=\phi$ and $\widetilde{P}=P$.
</p>
<p>
The proof that $\phi$ is a groupoid isomorphism, and that $P$ can be decomposed as $P=(D\circ\phi)p$ for the (continuous) Radon&#8210;Nikodym derivative $D$ and some continuous morphism $p\colon\mathcal{H}\to\mathbb{C}\setminus\left\{0\right\}$ is the same as in Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#276'>3.25</a>, but the verification that $|p|=1$ is different.
</p>
<p>
Given $y\in\mathcal{H}^{(0)}$  and $f\in C_c(\mathcal{G})$, using the definition of $D$ as a Radon&#8210;Nikodym derivative,
<div class='equation' id='304'>
\begin{equation*}
\int_{\mathcal{H}^y}|Tf|d\lambda_{\mathcal{H}}^y=\int_{\mathcal{H}^y} |p|(D\circ\phi)|f\circ\phi|d\lambda_{\mathcal{H}}^y=\int_{\mathcal{G}^{\phi^{-1}(y)}} |p\circ\phi^{-1}||f|d\lambda_{\mathcal{G}}^{\phi(y)}.
\end{equation*}
</div>
Considering again the functions $a^{\phi(y)}_i$ and $a^y_i$, and the fact that $T$ is isometric we obtain
<div class='equation' id='305'>
\begin{align*}
\int_{\mathcal{G}^{\phi^{-1}(y)}} |p\circ\phi^{-1}||f|d\lambda_{\mathcal{G}}^{\phi(y)}&=\lim_{i\in I_{\phi(y)}}\Vert a_i^y Tf\Vert_{I,\ra}=\lim_{i\in I_{\phi(y)}}\Vert a_i^{\phi(y)} f\Vert_{I,\ra}= \int |f|d\lambda_{\mathcal{G}}^{\phi(y)}
\end{align*}
</div>
for all $f\in C_c(\mathcal{G})$, which implies that $|p|=1$ $\lambda_{\mathcal{H}}^y$-a.e. Since $p$ is continuous and $\lambda_{\mathcal{H}}$ is fully supported, we conclude that $|p|=1$ on $\mathcal{H}$.
</p>

</div>

<h3 class='subsection' id='306'>3.10. Steinberg Algebras</h3>
<p>
Steinberg algebras were independently introduced in [<a class='reference' href='../../HTML citations/MR2565546.html' target='_blank'>MR2565546</a>] and [<a class='reference' href='../../HTML citations/MR3274831.html' target='_blank'>MR3274831</a>], as algebraic analogues of groupoid C*-algebras, and are generalizations of Leavitt path algebras and universal inverse semigroup algebras. We refer to [<a class='reference' href='../../HTML citations/MR3743184.html' target='_blank'>MR3743184</a>] and [<a class='reference' href='../../HTML citations/carlsenrout2017.html' target='_blank'>carlsenrout2017</a>] for more details.
</p>
<p>
A locally compact, zero-dimensional étale groupoid is called <em>ample</em>. A <em>bisection</em> of a groupoid $\mathcal{G}$ is a subset $A\subseteq\mathcal{G}$ such that the source and range maps are injective on $A$. If $\mathcal{G}$ is an ample Hausdorff groupoid, we denote by $\KB(\mathcal{G})$ the semigroup of compact-open bisections of $\mathcal{G}$, which forms a basis for the topology of $\mathcal{G}$.
</p>
<p>
In this section, $R$ is a fixed commutative ring with unit. Given an ample Hausdorff groupoid $\mathcal{G}$, we denote by $R^{\mathcal{G}}$ the $R$-module of $R$-valued functions on $\mathcal{G}$. Given $A\subseteq\mathcal{G}$, we define $1_A$ as the characteristic function of $A$ (with values in $R$).
</p>
<p>
Steinberg algebras were The goal of this section is to prove that the Steinberg algebra of an ample Hausdorff groupoid $\mathcal{G}$ together with its diagonal algebra completely characterize $\mathcal{G}$. Although the main theorem of this subsection (Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#331'>3.41</a>) is partially stated and proven (for more general <em>graded</em> Steinberg algebras) in [<a class='reference' href='../../HTML citations/carlsenrout2017.html' target='_blank'>carlsenrout2017</a>, Corollary 3.14], we can obtain a precise classification of the diagonal-preserving isomorphisms of Steinberg algebras, as described in Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#331'>3.41</a> and Corollary <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#341'>3.42</a>
</p>
<p>
We will need to recover the bisections of $\mathcal{G}$ from $A_R(\mathcal{G})$, and in particular the compact-open subsets of $\mathcal{G}^{(0)}$. The main idea is, again, to identify subsets of $\mathcal{G}^{(0)}$ with their characteristic functions, and these are precisely the functions which attain only the values $0$ and $1$. We thus need to assume an extra condition on the ring $R$.
</p>

<!-- 3.28 -->
<div class='definition' id='307'>
<span class='envidentifier'>Definition</span> <span class='envcounter'>3.28</span> <span class='envop'>([<a class='reference' href='../../HTML citations/MR1878556.html' target='_blank'>MR1878556</a>, X.7])</span>.
<p>
A (nontrivial) commutative unital ring $R$ is <em>indecomposable</em> if its only idempotents are $0$ and $1$. Equivalently, $R$ is indecomposable if it cannot be written as a direct sum $R\simeq R_1\oplus R_2$, where $R_1$ and $R_2$ are nontrivial rings.
</p>

</div>
<p>
A subset $A$ of a groupoid $\mathcal{G}$ is a bisection if and only if $AA^{-1}\cup A^{-1}A\subseteq \mathcal{G}^{(0)}$. A similar type of condition will be used to recover an ample Hausdorff groupoid $\mathcal{G}$ from the pair $(A_R(\mathcal{G}),D_R(\mathcal{G}))$.
</p>

<!-- 3.29 -->
<div class='definition' id='308'>
<span class='envidentifier'>Definition</span> <span class='envcounter'>3.29</span>.
<p>
A <em>normalizer</em> of $D_R(\mathcal{G})$ is an element $f\in A_R(\mathcal{G})$ for which there exists $g\in A_R(\mathcal{G})$ such that
</p>

<style>ol.altlist309 > li:before {
content:  '(' counter(listcounter,lower-roman) ')';
}
</style>
<ol class='alt altlist309'>

<li id='310'>
<p>
$fD_R(\mathcal{G})g\subseteq D_R(\mathcal{G})$ and $gD_R(\mathcal{G})f\subseteq D_R(\mathcal{G})$;
</p>

</li>

<li id='311'>
<p>
$fgf=f$ and $gfg=g$.
</p>

</li>
</ol>
<p>
We denote by $N_R(\mathcal{G})$ the set of normalizers of $D_R(\mathcal{G})$. An element $g$ satisfying (i) and (ii) above will be called and <em>inverse of $f$ relative to $D_R(\mathcal{G})$</em>.
</p>

</div>
<p>
It can be verified that $N_R(\mathcal{G})$ is a multiplicative subsemigroup of $A_R(\mathcal{G})$, which is moreover an <em>inverse</em> semigroup. In particular, the inverse relative to $D_R(\mathcal{G})$ of an element $f\in N_R(\mathcal{G})$ is unique. However, we will not necessitate these results.
</p>

<!-- 3.30 -->
<div class='example' id='312'>
<span class='envidentifier'>Example</span> <span class='envcounter'>3.30</span>.
<p>
If $A\in\KB(\mathcal{G})$ then $1_A\in N_R(\mathcal{G})$. More generally, if $\lambda_1,\ldots,\lambda_n$ are invertible elements in $R$ and $U_1,\ldots,U_n$ are compatible disjoint compact-open bisections (that is, $\bigcup_i U_i$ is also a bisection), then $f=\sum_i \lambda_i1_{U_i}$ is a normalizer of $D_R(\mathcal{G})$. The unique inverse of $f$ relative to $D_R(\mathcal{G})$ is given by $f^*=\sum_i\lambda_i^{-1}1_{U_i^{-1}}$, that is, $f^*(a)=f(a^{-1})^{-1}$ for all $a\in\supp(f)^{-1}$.
</p>

</div>
<p>
In order to recover $\mathcal{G}$ from $(A_R(\mathcal{G}),D_R(\mathcal{G}))$, we need that all normalizers of $D_R(\mathcal{G})$ have the form described in the example above, so additional conditions will have to be assumed on the groupoids we consider.
</p>
<p>
The following property was considered in [<a class='reference' href='../../HTML citations/arxiv1711.01903v2.html' target='_blank'>arxiv1711.01903v2</a>], when working on the same recovery problem.
</p>

<!-- 3.31 -->
<div class='definition' id='313'>
<span class='envidentifier'>Definition</span> <span class='envcounter'>3.31</span>.
<p>
If $\mathcal{G}$ is an ample Hausdorff groupoid and $R$ is an indecomposable (commutative, unital) ring, we say that $(\mathcal{G},R)$ satisfies the <em>local bisection hypothesis</em> if $\supp(f)$ is a bisection for all $f\in N_R(\mathcal{G})$.
</p>

</div>

<!-- 3.32 -->
<div class='lemma' id='314'>
<span class='envidentifier'>Lemma</span> <span class='envcounter'>3.32</span>.
<p>
Suppose that $(\mathcal{G},R)$ satisfies the local bisection hypothesis and $f\in N_r(\mathcal{G})$. Then for all $a\in\supp(f)$, $f(a)$ is invertible in $R$.
</p>

</div>
<div class='proof' id='315'>
<span class='envidentifier'>Proof</span>.
<p>
Let $g$ be an inverse of $f$ relatively to $D_R(\mathcal{G})$. First note that $fg=f1_{\so(\supp(f))}g\in D_R(\mathcal{G})$.
</p>
<p>
Let $a\in\supp(f)$. Since $fg$ is an idempotent in $D_R(\mathcal{G})$,  the product in $D_R(\mathcal{G})$ is pointwise and $R$ is indecomposable, then $fg(\ra(a))\in\left\{0,1\right\}$. Moreover, as $\supp(f)$ is a bisection we have $f(a)=fgf(a)=(fg)(\ra(a))f(a)$, so $(fg)(\ra(a))=1$.
</p>
<p>
Again using that $\supp(f)$ is bisection, we obtain
<div class='equation' id='316'>
\begin{equation*}
1=fg(\ra(a))=f(a)g(a^{-1})
\end{equation*}
</div>
so $f(a)$ is invertible in $R$.
</p>

</div>
<p>
The following stronger condition was considered in [<a class='reference' href='../../HTML citations/carlsenrout2017.html' target='_blank'>carlsenrout2017</a>], and is more easily checked than the one above. Recall that if $R$ is a ring and $G$ is a group, a <em>trivial unit</em> of the group-ring $RG$ is an element of the form $ug$, where $u$ is invertible in $R$ and $g\in G$.
</p>

<!-- 3.33 -->
<div class='definition' id='317'>
<span class='envidentifier'>Definition</span> <span class='envcounter'>3.33</span>.
<p>
If $\mathcal{G}$ is an ample Hausdorff groupoid and $R$ is an indecomposable (commutative, unital) ring, we say that $(\mathcal{G},R)$ <em>satisfies condition (S)</em> if the set of all $x\in\mathcal{G}^{(0)}$ such that the group ring $R\mathcal{G}_x^x$ has only trivial units is dense in $\mathcal{G}^{(0)}$.
</p>

</div>
<p>
The property of a group-ring $RG$ (where $G$ is a group and $R$ is a ring) having only trivial units has been studied, for example, in [<a class='reference' href='../../HTML citations/MR0002137.html' target='_blank'>MR0002137</a>]. A group $G$ is <em>indexed</em> if there exists a non-trivial group morphism from $G$ to $\mathbb{Z}$, and <em>indicable throughout</em> if every nontrivial finitely generated subgroup of $G$ is indexed. (Note that if $G$ is indicable throughout then $G$ is torsion-free.)
</p>

<!-- 3.34 -->
<div class='theorem' id='318'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.34</span> <span class='envop'>([<a class='reference' href='../../HTML citations/MR0002137.html' target='_blank'>MR0002137</a>, Theorem 13])</span>.
<p>
If $G$ is indicable throughout and $R$ is an integral domain, then $RG$ has only trivial units.
</p>

</div>
<p>
Every free group, and every torsion-free abelian group is indicable throughout. The class of indicable throughout groups is closed under products, free products and extensions (see [<a class='reference' href='../../HTML citations/MR0002137.html' target='_blank'>MR0002137</a>]).
</p>
<p>
The following result from [<a class='reference' href='../../HTML citations/carlsenrout2017.html' target='_blank'>carlsenrout2017</a>] provides a large class of groupoids satisfying the local bisection hypothesis. Although in [<a class='reference' href='../../HTML citations/carlsenrout2017.html' target='_blank'>carlsenrout2017</a>] the authors assume stronger hypotheses (namely, that $R$ is an integral domain and $R\mathcal{G}_x^x$ does not have zero divisors for all $x$ in a dense subset of $\mathcal{G}^{(0)}$), their proof works under the weaker assumptions we adopt.
</p>

<!-- 3.35 -->
<div class='lemma' id='319'>
<span class='envidentifier'>Lemma</span> <span class='envcounter'>3.35</span> <span class='envop'>([<a class='reference' href='../../HTML citations/carlsenrout2017.html' target='_blank'>carlsenrout2017</a>, Lemma 3.5(2)])</span>.
<p>
Suppose that $\mathcal{G}$ is an ample Hausdorff groupoid, $R$ is an indecomposable ring and that $(\mathcal{G},R)$ satisfies condition (S). Then $(\mathcal{G},R)$ satisfies the local bisection hypothesis.
</p>

</div>
<p>
An important class of groupoids consists of the <em>topologically principal</em> ones, whose associated algebras have been extensively studied (see, for example, [<a class='reference' href='../../HTML citations/MR3189105.html' target='_blank'>MR3189105</a>], <a class='reference' href='../../HTML citations/MR2745642.html' target='_blank'>MR2745642</a>], <a class='reference' href='../../HTML citations/MR1681679.html' target='_blank'>MR1681679</a>], <a class='reference' href='../../HTML citations/MR2590626.html' target='_blank'>MR2590626</a>]). In fact it is possible to classify C*-algebras which come from them (see [<a class='reference' href='../../HTML citations/MR2460017.html' target='_blank'>MR2460017</a>]).
</p>

<!-- 3.36 -->
<div class='definition' id='320'>
<span class='envidentifier'>Definition</span> <span class='envcounter'>3.36</span>.
<p>
A topological groupoid $\mathcal{G}$ is <em>topologically principal</em> if the set of all $x\in X$ whose isotropy group $\mathcal{G}_x^x$ is trivial is dense in $\mathcal{G}^{(0)}$.
</p>

</div>
<p>
It follows that if $\mathcal{G}$ is an ample Hausdorff topologically principal groupoid and $R$ is an indecomposable ring, then $(\mathcal{G},R)$ satisfies the local bisection hypothesis.
</p>
<p>
We are ready to classify diagonal-preserving isomorphisms of Steinberg algebras of groupoids and rings satisfying the local bisection hypothesis. For this, let us first define the class of maps of interest:
</p>

<!-- 3.37 -->
<div class='definition' id='321'>
<span class='envidentifier'>Definition</span> <span class='envcounter'>3.37</span>.
<p>
Let $R$ and $S$ be rings and $\mathcal{G}$ be a groupoid. Denote by $\operatorname{Iso}_+(R,S)$ the set of additive isomorphisms from $R$ to $S$. A map $\chi\colon\mathcal{G}\to\operatorname{Iso}_+(R,S)$ satisfying $\chi(ab)(rs)=\chi(a)(r)\chi(b)(s)$ for all $(a,b)\in\mathcal{G}^{(2)}$ and $r,s\in R$ will be called a <em>cocycle</em>.
</p>

</div>

<!-- 3.38 -->
<div class='example' id='322'>
<span class='envidentifier'>Example</span> <span class='envcounter'>3.38</span>.
<p>
Consider $C_2=\left\{1,g\right\}$, the group of order 2, acting on itself by left multiplication and consider the transformation groupoid $\mathcal{G}=C_2\ltimes C_2$. Let $R=S=\mathbb{Z}$. If we define $\chi\colon\mathcal{G}\to\operatorname{Iso}_+(R,S)$ by $\chi(1,y)(r)=r$ and $\chi(g,r)=-r$, then $\chi$ is a cocycle. Note that $\chi(g,1)$ is not a ring isomorphism.
</p>

</div>

<!-- 3.39 -->
<div class='example' id='323'>
<span class='envidentifier'>Example</span> <span class='envcounter'>3.39</span>.
<p>
Suppose $R$ is a unital ring and $\chi\colon\mathcal{G}\to\operatorname{Iso}_+(R,R)$ is a cocycle. Then $\chi$ is a morphism from the groupoid $\mathcal{G}$ to the group (under composition) $\operatorname{Iso}_+(R,R)$ if, and only if, $\chi(x)=\id_R$ for all $x\in \mathcal{G}^{(0)}$.
</p>

</div>

<!-- 3.40 -->
<div class='proposition' id='324'>
<span class='envidentifier'>Proposition</span> <span class='envcounter'>3.40</span>.
<p>
Let $R$ and $S$ be commutative unital rings, $\mathcal{G}$ a groupoid and $\chi\colon\mathcal{G}\to\operatorname{Iso}_+(R,S)$ a cocycle. Then
</p>

<style>ol.altlist325 > li:before {
content:  '(' counter(listcounter,lower-alpha) ')';
}
</style>
<ol class='alt altlist325'>

<li id='326'>
<p>
For all $x\in\mathcal{G}^{(0)}$, $\chi(x)$ is a ring isomorphism;
</p>

</li>

<li id='327'>
<p>
For all $a\in\mathcal{G}$, if $u\in R$ is invertible then $\chi(a)(u)$ is invertible in $S$, and $\chi(a)(u)^{-1}=\chi(a^{-1})(u)$.
</p>

</li>

<li id='328'>
<p>
For all $a\in\mathcal{G}$, $\chi(\so(a))=\chi(\ra(a))$. In other words, the restriction of $\chi$ to $\mathcal{G}^{(0)}$ is <em>invariant</em>.
</p>

</li>
</ol>

</div>
<div class='proof' id='329'>
<span class='envidentifier'>Proof</span>.
<p>
The cocycle condition states that $\chi(ab)(rs)=\chi(a)(r)\chi(b)(s)$ for all $a,b,r,s$. Taking $a=b=x$ yields (a). Taking $b=a^{-1}$, $r=u$ and $s=u^{-1}$ yields (b), and for item (c) we use commutativity of $S$:
<div class='equation' id='330'>
\begin{equation*}
\chi(\so(a))(r)=\chi(a^{-1}a)(1r)=\chi(a^{-1})(1)\chi(a)(r)=\chi(a)(r)\chi(a^{-1})(1)=\chi(\ra(a))(r).
\end{equation*}
</div>
</p>

</div>
<p>
We endow $\operatorname{Iso}_+(R,S)$ with the topology of pointwise convergence, so that a map $\chi$ from a topological space $X$ to $\operatorname{Iso}_+(R,S)$ is continuous if and only if for every $r\in R$, the map $X\ni x\mapsto\chi(x)(r)\in S$ is continuous, that is, locally constant.
</p>

<!-- 3.41 -->
<div class='theorem' id='331'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.41</span>.
<p>
Let $\mathcal{G}$ and $\mathcal{H}$ be ample Hausdorff groupoids. Let $R$ and $S$ be two indecomposable (commutative, unital) rings such that $(\mathcal{G},R)$ and $(\mathcal{H},S)$ satisfy the local bisection hypothesis. Let $T\colon A_R(\mathcal{G})\to A_S(\mathcal{H})$ be a diagonal-preserving ring isomorphism, that is, $T(D_R(\mathcal{G}))=D_S(\mathcal{H})$.
</p>
<p>
Then there exists a unique topological groupoid isomorphism $\phi\colon\mathcal{H}\to\mathcal{G}$ and a continuous cocycle $\chi\colon\mathcal{H}\to\operatorname{Iso}_+(R,S)$ such that $Tf(a)=\chi(a)(f(\phi(a)))$ for all $a\in\mathcal{H}$ and $f\in A_R(\mathcal{G})$.
</p>

</div>
<div class='proof' id='332'>
<span class='envidentifier'>Proof</span>.
<p>
Since $T$ preserves the respective diagonal algebras, it also preserves their normalizers, i.e., $T(N_R(\mathcal{G}))=N_S(\mathcal{H})$. Let us describe disjointness first for elements in $N_R(\mathcal{G})$. The local bisection hypothesis implies, by Lemma <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#314'>3.32</a>, that an element $f$ of $N_R(\mathcal{G})$ has the form
<div class='equation' id='333'>
\begin{equation*}
f=\sum_{i=1}^n\lambda_i1_{U_i}
\end{equation*}
</div>
where $\lambda_1,\ldots,\lambda_n$ are invertible elements in $R$ and $U_1,\ldots,U_n$ are disjoint compact-open bisections of $\mathcal{G}$ such that $\bigcup_{i=1}^n U_i=\supp(f)$ is also a compact-open bisection. A similar statement holds for $N_S(\mathcal{H})$.
</p>
<p>
If $f,g\in N_R(\mathcal{G})$, then $f\subseteq g$ if and only if $f=g p$ for some $p\in D_R(\mathcal{G})$: Indeed,
</p>

<ul>

<li id='334'>
<p>
If $f=gp$ then $\supp(f)\subseteq\supp(g)\supp(p)\subseteq\supp(g)$;
</p>

</li>

<li id='335'>
<p>
Conversely, if $\supp(f)\subseteq\supp(g)$ take $p=g^*f$. Then
<div class='equation' id='336'>
\begin{equation*}
\supp(p)\subseteq\supp(g^*)\supp(f)\subseteq(\supp(g))^{-1}\supp(g)\subseteq\mathcal{G}^{(0)}
\end{equation*}
</div>
where the last inclusion follows from $\supp(g)$ being a bisection. The equality $f=gp$ follows from the definition of $p$ and since $\ra(\supp(f))\subseteq\ra(\supp(g))$.
</p>

</li>
</ul>
<p>
Therefore $T$ preserves inclusion of normalizers. Since $N_R(\mathcal{G})$ contains $\left\{1_U:U\in\KB(\mathcal{G})\right\}$ then it is regular (Definition <a class='reference' href='A general Banach-Stone type theorem and applications_1.html#20'>1.5</a>), because $\KB(\mathcal{G})$ is a basis for the topology of $\mathcal{G}$. Hence $T$ also preserver disjointness of normalizers (Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_1.html#32'>1.8</a>).
</p>
<p>
To prove that $T$ preserves disjointness in all of $A_R(\mathcal{G})$, we decompose elements of $A_R(\mathcal{G})$ in terms of elements of $N_R(\mathcal{G})$ and $D_R(\mathcal{G})$: if $f,g\in A_R(\mathcal{G})$, then $f\perp g$ if and only if there are finite collections of normalizers $f_i,g_j\in N_R(\mathcal{G})$ and elements $\widetilde{f_i},\widetilde{g_j}\in D_R(\mathcal{G})$ ($1\leq i\leq n$, $1\leq j\leq m$) such that
<div class='equation' id='337'>
\begin{equation*}
f=\sum_i f_i\widetilde{f_i},\quad g=\sum_j g_j\widetilde{g_j}\text{ and }f_i\perp g_j\text{ for all }i,j
\end{equation*}
</div>
Indeed, if there are such $f_i,g_j,\widetilde{f_i},\widetilde{g_j}$ then $\supp(f)\subseteq\bigcup_i\supp(f_i)$ and $\supp(g)\subseteq\bigcup_j\supp(g_j)$, and the latter sets are disjoint.
</p>
<p>
Conversely, we write $f=\sum_i\lambda_i1_{A_i}$, where the $A_i$ are pairwise disjoint compact-open bisections and $\lambda_i\neq 0$, and take $f_i=1_{A_i}$ and $\widetilde{f_i}=\lambda_i1_{\so(A_i)}$, so that $\supp(f)=\bigcup_{i=1}^n\supp(f_i)$. Similarly, writing $g=\sum_j\widetilde{g_j}g_j$ where $g_j\in N_R(\mathcal{G})$ and $\supp(g)=\bigcup_j\supp(g_j)$, then $f\perp g$ implies $f_i\perp g_j$ for all $i$ and $j$.
</p>
<p>
Therefore, $T$ is a $\perp$-isomorphism. Note that $\perpp$ and $\perp$ coincide in $A_R(\mathcal{G})$, since its elements are locally constant (similarly to Example <a class='reference' href='A general Banach-Stone type theorem and applications_1.html#17'>1.4</a>). Then $T$ is a $\perpp$-isomorphism, so let $\phi\colon\mathcal{H}\to\mathcal{G}$ be the $T$-homeomorphism. The verification that $\phi$ is a groupoid isomorphism is similar to that of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#276'>3.25</a>.
</p>
<p>
Since elements of $A_R(\mathcal{G})$ (and $A_S(\mathcal{H})$) are locally constant, then for all $f\in A_R(\mathcal{G})$,
<div class='equation' id='338'>
\begin{equation*}
f(\phi(a))=0\iff \phi(a)\in Z(f)\iff x\in Z(Tf)\iff Tf(a)=0.
\end{equation*}
</div>
and therefore $T$ is basic (by additivity of $T$ and Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#128'>2.8</a>). Let $\chi$ be the $T$-transform. Since $T$ is additive with the pointwise operations, each section $\chi(\alpha)=\chi(\alpha,\cdot)$ is additive (by Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#125'>2.7</a>). This yields a map $\chi\colon\mathcal{G}\to\operatorname{Iso}_+(R,S)$, and we need now to verify that $\chi$ is a cocycle.
</p>
<p>
If $(a,b)\in\mathcal{H}^{(2)}$ and $r,s\in R$, choose compact-open bisections $U,V$ of $\mathcal{G}$ containing $\phi(a)$ and $\phi(b)$, respectively. Then using multiplicativity of $T$ we obtain
<div class='equation' id='339'>
\begin{align*}
\chi(ab)(rs)&=\chi(ab)\big((r1_U)(s1_V)(\phi(ab))\big)=T\big((r1_U)(s1_V)\big)(ab)\\
&=\big(T(r1_U)T(s1_V)\big)(ab)=\sum_{cd=ab}T(r1_U)(c)T(s1_V)(d)\\
&=\sum_{cd=ab}\chi(c)\big(r1_U(\phi(c))\big)\chi(d)\big(s1_V(\phi(d))\big)
\end{align*}
</div>
If $cd=ab$ is such that the last term above is nonzero, then $\ra(c)=\ra(a)$ and $\phi(c)\in U$, so since $U$ is a bisection we obtain $a=c$. Similarly, $d=b$, therefore $\chi(ab)(rs)=\chi(a)(r)\chi(b)(s)$, and $\chi$ is a cocycle.
</p>
<p>
It remains only to prove that $\chi$ is continuous: Let $r\in R$ be fixed, $a\in\mathcal{H}$ and $U$ any compact-open bisection containing $\phi(a)$. For all $b\in\phi^{-1}(U)$,
<div class='equation' id='340'>
\begin{equation*}
\chi(b)(r)=\chi(b)(r1_U(\phi(b)))=T(r1_U)(b)
\end{equation*}
</div>
which means that the map $b\mapsto\chi(b)(r)$ coincides with $T(r1_U)$ on $\phi^{-1}(U)$ and thus it is continuous.
</p>

</div>
<p>
We should note that according to [<a class='reference' href='../../HTML citations/arxiv1711.01903v2.html' target='_blank'>arxiv1711.01903v2</a>], the local bisection hypothesis is preserved by diagonal-preserving isomorphisms, so the same result is valid if we assume, in principle, that only $(\mathcal{G},R)$ satisfies this condition.
</p>
<p>
From this we can immediately classify the group of diagonal-preserving automorphisms of Steinberg algebras satisfying the local bisection hypothesis. Let $\mathcal{G}$ be a groupoid and $R$ a ring. Denote by $\operatorname{Coc}(\mathcal{G},R)$ the set of all continuous cocycles $\chi\colon\mathcal{G}\to\operatorname{Iso}_+(R,R)$, which is a group with the canonical (pointwise) structure: $(\chi\rho)(a)=\chi(a)\circ\rho(a)$ for all $\chi,\rho\in C(\mathcal{G},R)$ and $a\in\mathcal{G}$, where $\circ$ denotes composition.
</p>
<p>
Let $\operatorname{Aut}(\mathcal{G})$ be the group of topological groupoid automorphisms of $\mathcal{G}$. Then $\operatorname{Aut}(\mathcal{G})$ acts on $\operatorname{Coc}(\mathcal{G},R)$ in the usual (dual) manner: for $\phi\in\operatorname{Aut}(\mathcal{G})$, $\chi\in\operatorname{Coc}(\mathcal{G},R)$ and $a\in\mathcal{G}$ set $(\phi\chi)(a)=\chi(\phi^{-1}a)$.
</p>
<p>
Denote by $\operatorname{Aut}(A_R(\mathcal{G}),D_R(\mathcal{G}))$ the group of diagonal-preserving ring automorphisms of $A_R(\mathcal{G})$. From Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#331'>3.41</a> we immediately obtain:
</p>

<!-- 3.42 -->
<div class='corollary' id='341'>
<span class='envidentifier'>Corollary</span> <span class='envcounter'>3.42</span>.
<p>
If $(\mathcal{G},R)$ satisfies the local bisection hypothesis, then the group $\operatorname{Aut}(A_R(\mathcal{G}),D_R(\mathcal{G}))$ is isomorphic to the semidirect product $C(\mathcal{G},R)\rtimes\operatorname{Aut}(\mathcal{G})$.
</p>

</div>

<h3 class='subsection' id='342'>3.11. Groups of circle-valued functions</h3>
<p>
A natural question in C*-algebra theory is whether we can extend isomorphisms of unitary groups of C*-algebras to isomorphisms (or anti/conjugate-isomorphisms) of the whole C*-algebras. Dye proved in [<a class='reference' href='../../HTML citations/MR0066568.html' target='_blank'>MR0066568</a>] that this is always possible for continuous von Neumann factors, however this is not true in the general C*-algebraic case, even in the commutative case. Therefore we should consider isomorphisms between unitary groups which preserve more structure than just the product, such as an analogue to that of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#235'>3.15</a>. Recall that the unitary group of a commutative C*-algebra $C(X)$, where $X$ is compact Hausdorff, is $C(X,\mathbb{S}^1)$.
</p>

<!-- 3.43 -->
<div class='theorem' id='343'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.43</span>.
<p>
Let $X$ and $Y$ be two Stone (zero-dimensional, compact Hausdorff) spaces. Suppose that $T\colon C(X,\mathbb{S}^1)\to C(Y,\mathbb{S}^1)$ is a group isomorphism such that $1\in f(X)\iff 1\in Tf(X)$. Then there exist a homeomorphism $\phi\colon Y\to X$, a finite isolated subset $F\subseteq Y$ and a continuous function $p\colon Y\setminus F\to\{\pm 1\}$ satisfying $Tf(y)=f(\phi(y))^{p(y)}$ for all $y\in Y\setminus F$.
</p>
<p>
In particular, if $X$ (and/or $Y$) do not have isolated points then $F=\varnothing$.
</p>

</div>
<p>
The following lemma, based on [<a class='reference' href='../../HTML citations/MR3162258.html' target='_blank'>MR3162258</a>], will be crucial to the proof of the theorem.
</p>

<!-- 3.44 -->
<div class='lemma' id='344'>
<span class='envidentifier'>Lemma</span> <span class='envcounter'>3.44</span>.
<p>
Suppose that $X$ is a Stone space. For every pair of continuous functions $f,g\colon X\to\mathbb{S}^1$ and for every finite subset $F\subseteq X$ such that $f(F)\cup g(F)$ does not contain $1$, there exists $h\in C(X,\mathbb{S}^1)$ such that
<div class='equation' id='345'>
\begin{equation*}
h(x)\not\in\left\{f(x),g(x)\right\}\text{ for all }x\text{ and }h(F)=\{1\}.
\end{equation*}
</div>
</p>

</div>
<div class='proof' id='346'>
<span class='envidentifier'>Proof</span>.
<p>
For every point $y\in F$, choose a clopen set $U_y$ containing $y$ such that $f(U_y)\cup g(U_y)$ does not contain $1$. For every other point $x\in X':=X\setminus\bigcup_{y\in F}U_y$, there is a clopen set $U\subseteq X'$ such that $f(U)\cup g(U)\neq\mathbb{S}^1$. Using compactness of $X'$ and taking complements and intersections if necessary we can find a clopen partition $U_1,\ldots,U_n$ of $X'$ such that $f(U_i)\cup g(U_i)\neq\mathbb{S}^1$ for all $i$. Simply choose $z_i\in \mathbb{S}^1\setminus(f(U_i)\cup g(U_i))$ and define $h=z_i$ on $U_i$, and $h=1$ on $\bigcup_{f\in F}U_f$.
</p>

</div>

<div class='proof' id='347'>
<span class='envidentifier'>Proof of Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#343'>3.43</a></span>.
<p>
For the notion of support we will use (Definition <a class='reference' href='A general Banach-Stone type theorem and applications_1.html#6'>1.1</a>), we take $\theta=1$, the constant function at $1$, so regularity of $C(X,\mathbb{S}^1)$ is immediate.
</p>
<p>
Suppose that $f\perp g$ but that $Tf$ and $Tg$ are not disjoint. By Lemma <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#344'>3.44</a>, there exists $H\in C(Y,\mathbb{S}^1)$ such that $H\neq Tf,Tg$ everywhere, but that $1\in H(Y)$. Let $h=T^{-1}H$. Then $T(f^{-1}h)$ and $T(g^{-1}h)$ do not attain $1$, which implies that $f^{-1}h$ and $g^{-1}h$ do not attain $1$ as well. Thus
<div class='equation' id='348'>
\begin{align*}
h^{-1}(1)&=X\cap h^{-1}(1)=(f^{-1}(1)\cup g^{-1}(1))\cap h^{-1}(1)\\
&=(g^{-1}(1)\cap h^{-1}(1))\cup(f^{-1}(1)\cap h^{-1}(1))\subseteq (g^{-1}h)^{-1}(1)\cup (f^{-1}h)^{-1}(1)=\varnothing.
\end{align*}
</div>
But $(Th)^{-1}(1)=H^{-1}(1)$ is nonempty, contradicting the given property of $T$.
</p>
<p>
Therefore $f\perp g$ implies $Tf\perp Tg$, and the same argument yields the opposite implication, so $T$ is a $\perp$-isomorphism. Let $\mathcal{A}(X)$ and $\mathcal{A}(Y)$ be the subgroups of order-$2$ elements of $C(X,\mathbb{S}^1)$ and $C(Y,\mathbb{S}^1)$, respectively (i.e., the groups of continuous functions with values in $\left\{-1,1\right\}$).
</p>
<p>
$\mathcal{A}(X)$ and $\mathcal{A}(Y)$ are also regular, since $X$ and $Y$ are zero-dimensional, and the restriction $T|_{\mathcal{A}(X)}\colon\mathcal{A}(X)\to \mathcal{A}(Y)$ is a $\perpp$-isomorphism, because $\perp$ and $\perpp$ coincide on $\mathcal{A}(X)$ and $\mathcal{A}(Y)$. Let $\phi\colon Y\to X$ be the corresponding $T|_{\mathcal{A}(X)}$-homeomorphism.
</p>
<p>
Let $h\in C(X,\mathbb{S}^1)$ be arbitrary. Since $\sigma(h)=\bigcup_{a\in \mathcal{A}(X),a\subseteq h}\sigma(a)$ and $T$ is a $\perp$-isomorphism, we obtain by Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_1.html#72'>1.16</a> that, for all $h\in C(X,\mathbb{S}^1)$,
<div class='equation' id='349'>
\begin{equation*}
\phi(\sigma(Th))=\bigcup_{\substack{a\in \mathcal{A}(X)\\a\subseteq h}}\phi(\sigma(Ta))=\bigcup_{\substack{a\in \mathcal{A}(X)\\a\subseteq h}}\sigma(a)=\sigma(h)
\end{equation*}
</div>
Since $\phi$ is a homeomorphism it preserves closures, from which it follows that $T$ is also a $\perpp$-isomorphism, and $\phi$ is also the $T$-homeomorphism.
</p>
<p>
<u>Claim:</u> $f(\phi(y))=1\iff Tf(y)=1$.
</p>



<div class='quote'>
Suppose $f(\phi(y))\neq 1$. Choose a function $g\in C(X,\mathbb{S}^1)$ which coincides with $f$ on a neighbourhood of $\phi(y)$ and such that $1\not\in g(X)$. Then $1\not\in Tg(Y)$ and since $Tf$ coincides with $Tg$ on a neighbourhood of $y$ then $Tf(\phi(y))=Tg(\phi(y))\neq 1$. The other direction is analogous, and thus we have proved the claim.

</div>
<p>
Therefore $T$ is basic. Let $\chi$ be the $T$-transform, so that each section $\chi(y,\cdot)$ is an automorphism of the circle. If $\chi(y,\cdot)$ is continuous then it has the form $\chi(y,z)=z^{p(y)}$ where $p(y)\in\left\{\pm1\right\}$. Let us prove that for all except finitely many $y\in Y$, the section $\chi(y,\cdot)$ is continuous.
</p>
<p>
Let $F=\left\{y\in Y:\chi(y,\cdot)\text{ is discontinuous}\right\}$, and suppose that $F$ were infinite. By Proposition <a class='reference' href='A general Banach-Stone type theorem and applications_2.html#131'>2.9</a>, there are countably infinitely many distinct points $y_n\in F$ ($n\in\mathbb{N}$), such that no $y_n$ lies in the closure of the other ones. We can choose a sequence $z_n\to 1$ such that $\chi(y_n,z_n)$ lies in the second quadrant of the circle. Define $f(\phi(y_n))=z_n$, $f=1$ on the boundary of $\{\phi(y_n):n\in\mathbb{N}\}$ and extend $f$ continuously to all of $X$. Let $y$ be a cluster point of $\{y_n\}_n$, so that in particular $f(\phi(y))=1$. Then
<div class='equation' id='350'>
\begin{equation*}
Tf(y)=\chi(y,1),\quad Tf(y_n)=\chi(y_n,z_n)
\end{equation*}
</div>
But $y$ is an accumulation point of the $y_n$, and $Tf(y_n)$ lies in the second quadrant while $Tf(y)=1$, a contradiction to the continuity of $Tf$.
</p>
<p>
Therefore $F$ is finite, so now we show that it is open in order to conclude that its points are isolated in $Y$. Let $y\in Y$ and choose $z_0\in\mathbb{S}^1$ of the form $z_0=e^{it}$ where $-\pi/4\leq t\leq \pi/4$, but such that $\chi(y,z_0)$ is in the second or third quadrant, so in particular it is not $z_0$ nor $z_0^{-1}$. Denote by $z_0$ the constant function at $z_0$, we that
<div class='equation' id='351'>
\begin{equation*}
T(z_0)(y)=\chi(y,z_0)\neq z_0,z_0^{-1}.
\end{equation*}
</div>
Since $T(z_0)$ is continuous, there is a neighbourhood $U$ of $y$ such that $\chi(x,z_0)\neq z_0,z_0^{-1}$ for all $x\in U$, so $x\in F$.
</p>
<p>
Therefore $Y'=Y\setminus F$ is also compact, and we already constructed the function $p\colon Y'\to\{\pm 1\}$ with the desired property. To see that $p$ is continuous, denote by $i$ the constant function $x\mapsto i$ and note that
<div class='equation' id='352'>
\begin{equation*}
p^{-1}(1)=\left\{y\in Y':\chi(y,i)=i\right\}=\left\{y\in Y':T(i)(y)=i\right\}=T(i)^{-1}(i)\cap Y'
\end{equation*}
</div>
and similarly $p^{-1}(-1)=T(i)^{-1}(-i)\cap Y'$, so these two sets, which are complementary in $Y'$, are closed and hence clopen.
</p>

</div>

<!-- 3.45 -->
<div class='example' id='353'>
<span class='envidentifier'>Example</span> <span class='envcounter'>3.45</span>.
<p>
As an easy example where the subset $F\subseteq Y$ in the previous theorem is nonempty, let $X=Y=\left\{\ast\right\}$ be (equal) singletons, and let $t\colon\mathbb{S}^1\to\mathbb{S}^1$ be a discontinuous automorphism of $\mathbb{S}^1$.
</p>
<p>
Consider the map $T\colon C(X,\mathbb{S}^1)\to C(Y,\mathbb{S}^1)$, $T(f)(\ast)=t(f(\ast))$ (in other words, $T$ is the function obtained from $t$ by identifying $C(X,\mathbb{S}^1)$ and $C(Y,\mathbb{S}^1)$ with $\mathbb{S}^1$). Then $T$ satisfies the hypotheses of the previous theorem but $F=Y$.
</p>

</div>
<p>
We now endow $C(X,\mathbb{S}^1)$ with the uniform metric:
<div class='equation' id='354'>
\begin{equation*}
d_\infty(f,g)=\sup_{x\in X}|f(x)-g(x)|
\end{equation*}
</div>
(which is the metric coming from the C*-algebra $C(X,\mathbb{C})$).
</p>

<!-- 3.46 -->
<div class='theorem' id='355'>
<span class='envidentifier'>Theorem</span> <span class='envcounter'>3.46</span>.
<p>
If $X$ and $Y$ are as above and $T\colon C(X,\mathbb{S}^1)\to C(Y,\mathbb{S}^1)$ is an isometric isomorphism, then there is a homeomorphism $\phi\colon Y\to X$ and a continuous function $p\colon Y\to\left\{\pm 1\right\}$ such that $Tf(y)=f(\phi(y))^{p(y)}$ for all $y\in Y$.
</p>

</div>
<div class='proof' id='356'>
<span class='envidentifier'>Proof</span>.
<p>
We identify each $\lambda\in\mathbb{S}^1$ with the corresponding constant map on $X$ or $Y$. The constant function $-1$ is characterized by the following two properties:
</p>

<ul>

<li id='357'>
<p>
$(-1)^2=1$;
</p>

</li>

<li id='358'>
<p>
If $g^3=1$, then $d_\infty(-1,g)\in\left\{1,2\right\}$.
</p>

</li>
</ul>
<p>
Thus $T(-1)=-1$. A function $f$ does not attain $1$ if and only if $d_\infty(-1,f)\smallerthan 1$, so $T$ preserves functions not attaining $1$, and we apply Theorem <a class='reference' href='A general Banach-Stone type theorem and applications_3.html#343'>3.43</a> (or more precisely its proof) in order to obtain a homeomorphism $\phi\colon Y\to X$, a function $\chi\colon Y\times\mathbb{S}^1\to\mathbb{S}^1$ and a continuous function $p\colon Y'\to\left\{-1,1\right\}$, where $Y'=\left\{y\in Y:\chi(y,\cdot)\text{ is continuous}\right\}$, such that
<div class='equation' id='359'>
\begin{equation*}
Tf(y)=\chi(y,f(\phi(y))\qquad\text{and}\qquad\chi(y',t)=t^{p(y')}
\end{equation*}
</div>
for all $y\in Y$, $y'\in Y'$ and $f\in C(X,\mathbb{S}^1)$. It remains only to prove that $Y'=Y$, i.e., every section $\chi(y,\cdot)$ is continuous.
</p>
<p>
If $\lambda_i\to\lambda$ in $\mathbb{S}^1$ then we also have uniform convergence of the corresponding constant functions, so
<div class='equation' id='360'>
\begin{equation*}
\chi(y,\lambda_i)=T(\lambda_i)y\to T(\lambda)y=\chi(y,\lambda)
\end{equation*}
</div>
thus $\chi(y,\cdot)$ is continuous for all $y$.
</p>

</div>

</body>
</html>