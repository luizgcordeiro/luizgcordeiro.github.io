<!DOCTYPE html>
<!-------------------------------------------------------
The beggining should be equal for all files
--------------------------------------------------------->
<html>
<head>

	<title>Soficity and other dynamical aspects of groupoids and inverse semigroups</title>

	<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>  
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			extensions: ["tex2jax.js"],
			jax: ['input/TeX','output/HTML-CSS'],
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']]
				},
			TeX: {extensions: ['xypic.js','AMSmath.js', 'AMSsymbols.js', 'AMScd.js', ]}
		});
	</script>
	
	<script type="text/javascript" src="../../mathjax/MathJax.js?config=default"></script>

	<script type="text/javascript">
	   function toggle_visibility(id) {
		   var e = document.getElementById(id);
		   if(e.style.display == 'block')
			  e.style.display = 'none';
		   else
			  e.style.display = 'block';
	   }
	</script>

	<link rel="stylesheet" type="text/css" href="../src/style.css">

	<title>
		Soficity and other dynamical aspects of groupoids and inverse semigroups
	</title>
</head>
<body>

<div style="display: none" id="latexcommands" style=""></div>
<script>
$( "#latexcommands" ).load( "../src/latexcommands" );
	</script>

<div id="sidebar" class="sidebar"></div>

<script>
$( "#sidebar" ).load( "../src/sidebar" );
</script>

<!-------------------------------------------------------
RIGHT BAR
-------------------------------------------------------->

<div class="fullrightbar">
<div id="closerightbar" style='margin-bottom:1em;display:none;'>
	[<a href='javascript:void(0)' onclick='closerightbar()'>Close</a>]
</div>
<div id='rightbar'></div>
</div>

<!-------------------------------------------------------
MAIN
-------------------------------------------------------->

<div class="main">

<h2 class='section'>Algebraic partial actions and crossed products</h2>

<!-- 4.3.1 -->
<div class='definition' id='definitionalgebraicpartialaction'>
	<p><span class='envidentifier'>Definition 4.3.1
	<span style='font-weight:normal;'>([<span class='ref' data-tag='MR2115083'></span>])</span></span>
	If $R$ is a commutative unital ring, $S$ is an inverse semigroup and $A$ is an associative algebra over $R$, a (non-degenerate) <em>algebraic partial action</em> of $S$ on $A$ is a partial action $\alpha:S\to\mathcal{I}(A)$ such that:
	<ol class='roman'>
		<li>
			For all $s\in S$, $A_s$ is an ideal of $A$ and $\alpha_s:A_{s^*}\to A_s$ is an $R$-isomorphism;
		</li>
		
		<li>
			$A=\operatorname{span}\bigcup_{s\in S}A_s$.
		</li>
	</ol>
	Partial actions on rings are defined in the same way (e.g. by regarding rings as $\mathbb{Z}$-algebras in the natural way). All partial actions on algebras will be assumed algebraic, in the sense described here.
	</p>
</div>

<p>
Similarly to the case of topological partial actions, Property (ii) can be substituted with
<style>
ol.roman.primetwo > li:before {
  content: "(ii)\0027";
}
</style>
<ol class='roman primetwo'>
	<li>
		$A=\operatorname{span}\bigcup_{e\in E(S)}A_e$;
	</li>
</ol>
and this <em>non-degeneracy</em> condition will always be assumed to hold, since we can always substitute $A$ with $\operatorname{span}\bigcup_{e\in E(S)}A_e$ if necessary.
</p>

<p>
Crossed products for partial actions of inverse semigroups are defined in the same way as crossed products of global actions (see [<span class='ref'  data-tag='MR2559043'></span>]), as long as we take appropriate care when dealing with <em>partial</em> morphisms.
</p>

<!-- 4.3.2 -->
<div class='definition' id='definitionLalpha'>
	<p><span class='envidentifier'>Definition 4.3.2</span>
	Let $\alpha$ be an algebraic partial action of $S$ on an $R$-algebra $A$. We denote by $\mathscr{L}(\alpha)$ the $R$-module of all finite formal sums
	<div class='equation'>\[
		\sum_{s\in S} a_s \delta_s,\qquad\text{where}\quad a_s\in A_s\quad\text{and}\quad\delta_s\quad\text{is a formal symbol}.
	\]</div>
	</p>
	
	<p>
	More precisely, $\mathscr{L}(\alpha)$ is the free $R$-module generated by formal elements $a_s\delta_s$, where $s\in S$ and $a_s\in A_s$, satisfying the relations
	<div class='equation'>\[
		(a_s\delta_s)+(b_s\delta_s)=(a_s+b_s)\delta_s\qquad\text{and}\qquad \lambda(a_s\delta_s)=(\lambda a_s)\delta_s
	\]</div>
	for all $s\in S$, $a_s,b_s\in A_s$ and $\lambda\in R$.
	</p>
</div>

<div class='remark'>
	<p><span class='envidentifier'>Remark</span>
	Alternatively, $\mathscr{L}(\alpha)$ coincides with the $R$-module of all finitely supported functions $f:S\to A$ which satisfy $f(s)\in A_s$ for all $s\in S$. One should be somewhat careful with this interpretation, since we could think of $\delta_s$ as the characteristic function of $\left\{s\right\}$, which will not be an element of $\mathscr{L}(\alpha)$ in general. The index $s$ appearing in a term $a_s\delta_s$ will be useful to keep track of which ideal the element $a_s$ belongs to.
	</p>
</div>

<p>
We define a product on the generators of $\mathscr{L}(\alpha)$ by
<div class='equation'>\[
	(a_s \delta_s)(b_t \delta_t) = \alpha_{s}(\alpha_{s^*}(a_s) b_t) \delta_{st}.
\]</div>
</p>

<!-- 4.3.3 -->
<div class='example'>
	<p><span class='envidentifier'>Example 4.3.3</span>
	Let $\alpha$ be a global action of a group $G$ on an $R$-algebra $A$. Then, as an $R$-module, $\mathscr{L}(\alpha)$ coincides with the group algebra $A\rtimes_{\alpha} G$. Since all functions $\alpha_s$ are automorphisms of $A$, we can calculate the product on $\mathscr{L}(\alpha)$ as
	<div class='equation'>\[
		(a_s\delta_s)(b_t\delta_t)= \alpha_s(\alpha_{s^{-1}}(a_s)b_t)\delta_st=\alpha_s(\alpha_{s^{-1}}(a_s))\alpha_s(b_t)\delta_{st}=a_s\alpha_s(b_t)\delta_{st},
	\]</div>
	so $\mathscr{L}(\alpha)$ is, in fact, the same as the group algebra $A\rtimes_{\alpha} G$.
	</p>
</div>

<p>
In general, this product might make $\mathscr{L}(\alpha)$ a <em>non-associative algebra</em> (see [<span class='ref' data-tag='MR2115083'></span>, Example 3.5]). We will prove associativity in a particular case, which will always be satisfied by the algebras we will consider. For more general conditions which guarantee associativity of $\mathscr{L}(\alpha)$, see 3.1 and 3.2 of [<span class='ref' data-tag='MR2115083'></span>].
</p>

<!-- 4.3.4 -->
<div class='definition'>
	<p><span class='envidentifier'>Definition 4.3.4</span>
	We say that an algebra $A$
	<ul>
		<li>
			is <em>idempotent</em> if for all $a\in A$, there are finitely many elements $b_1,c_1,\ldots,b_n,c_n$ such that $a=\sum_{i=1}^n b_ic_i$.
		</li>
		
		<li>
			has <em>local units</em> if for every finite subset $F\subseteq A$, there exists $e\in A$ such that $e^2=e$ and $ef=fe=f$ for all $f\in F$, and call such $e$ a <em>local unit</em> for $F$.
		</li>
	</ul>
	</p>
</div>

<!-- 4.3.5 -->
<div class='proposition' id='proposition435'>
	<p><span class='envidentifier'>Proposition 4.3.5</span>
	Suppose that $\alpha=\left(\alpha_s:A_{s^*}\to A_s\right)_{s\in S}$ is an algebraic partial action of an inverse semigroup $S$ on an $R$-algebra $A$, and that every ideal $A_s$ is idempotent. Then $\mathscr{L}(\alpha)$ is associative.
	</p>
	
	<p>
	In particular, if every ideal $A_s$ has local units then $\mathscr{L}(\alpha)$ is associative.
	</p>
</div>

<p>
<a class='proofbutton' data-tag='proposition435'>Proof</a>
</p>

<div class='proof' id='proofofproposition435'>
	<p>
	Of course, it is enough to prove that
	<div class='equation'>\[
		(a_s\delta_s)\left((b_t\delta_t)(c_z\delta_z)\right)=\left((a_s\delta_s)(b_t\delta_t)\right)(c_z\delta_z)
	\]</div>
	for all $s,t,z\in S$ and $a_s\in A_s$, $b_t\in A_t$ and $c_z\in A_z$. Suppose initially that $b_t=b_t^1b_t^2$, where $b_t^i\in A_t$. Then
	<div class='equation'>\begin{align*}
		(a_s\delta_s)\left((b_t\delta_t)(c_z\delta_z)\right)
			&=\alpha_s\left(\alpha_{s^*}(a_s)\alpha_t(\alpha_{t^*}(b_t)c_z)\right)\delta_{stz}\\
			&=\alpha_s\left(\alpha_{s^*}(a_s)b_t^1\alpha_t(\alpha_{t^*}(b_t^2)c_z)\right)\delta_{stz}.
	\end{align*}</div>
	Since $\alpha_{s^*}b_t^1\in A_t$, we get
	<div class='equation'>\begin{align*}
		(a_s\delta_s)\left((b_t\delta_t)(c_z\delta_z)\right)
			&=\alpha_s\left(\alpha_t(\alpha_{t^*}(\alpha_{s^*}(a_s)b_t^1)\alpha_t(\alpha_{t^*}(b_t^2)c_z))\right)\delta_{stz}\\
			&=\alpha_s\left(\alpha_t\left[\alpha_{t^*}(\alpha_{s^*}(a_s)b_t^1\alpha_{t^*}(b_t^2)c_z\right]\right)\delta_{stz}\\
			&=\alpha_{st}\left[\alpha_{t^*}(\alpha_{s^*}(a_s)b_t^1)\alpha_{t^*}(b_t^2)c_z\right]\delta_{stz}\\
			&=\alpha_{st}\left[\alpha_{t^*}(\alpha_{s^*}(a_s)b_t^1b_t^2)c_z\right]\delta_{stz}\\
			&=\alpha_{st}\left[\alpha_{t^*}(\alpha_{s^*}(a_s)b_t)c_z\right]\delta_{stz}.
	\end{align*}</div>
	Since $\alpha_{s^*}(a_s)b_t\in A_t$, we can rewrite this as
	<div class='equation'>\begin{align*}
		(a_s\delta_s)\left((b_t\delta_t)(c_z\delta_z)\right)
			&=\alpha_{st}\left[\alpha_{t^*}(\alpha_{s^*}(\alpha_s(\alpha_{s^*}(a_s)b_t)))c_z\right]\delta_{stz}\\
			&=\alpha_{st}\left[\alpha_{(st)^*}(\alpha_s(\alpha_{s^*}(a_s)b_t))c_z\right]\delta_{stz},
	\end{align*}</div>
	and this coincides precisely with the definition of $\left((a_s\delta_s)(b_t\delta_t)\right)(c_z\delta_z)$.
	</p>
	
	<p>
	This proves the claim when $b_t$ is a product of elements of $A_t$. Since $A_t$ is idempotent, then each of its elements is a sum of products of $A_t$, and we are done.<span class='qed'></span>
	</p>
</div>

<!-- 4.3.6 -->
<div class='definition' id='definitionNalpha'>
	<p><span class='envidentifier'>Definition 4.3.6</span>
	Given a partial action $\alpha$ of an inverse semigroup $S$ on an algebra $A$, we let $\mathscr{N}(\alpha)$ be the additive subgroup of $\mathscr{L}(\alpha)$ generated by all elements of the form
	<div class='equation'>\[
		a_r\delta_r - a_r\delta_s,\qquad\text{where}\quad r\leq s\quad\text{and}\quad a_r\in A_r.
	\]</div>
	</p>
</div>

<!-- 4.3.7 -->
<div class='proposition' id='proposition437'>
	<p><span class='envidentifier'>Proposition 4.3.7</span>
	If $\alpha$ is an action of $S$ on an algebra $A$, then $\mathscr{N}(\alpha)$ is a two-sided ideal of $\mathscr{L}(\alpha)$.
	</p>
</div>

<p>
<a class='proofbutton' data-tag='proposition437'>Proof</a>
</p>

<div class='proof' id='proofofproposition437'>
	<p>
	If $a_r\delta_r-a_r\delta_s$, where $a\in A_r$ and $r\leq s$ and $\lambda\in R$, then
	<div class='equation'>\[
		\lambda(a_r\delta_r-a_r\delta_s)=(\lambda a_r)\delta_r-(\lambda a_r)\delta_s,
	\]</div>
	so $\mathscr{N}(\alpha)$ is a submodule of $\mathscr{L}(\alpha)$. If $b_z\delta_z\in\mathscr{L}$, then
	<div class='equation'>\[
		(b_z\delta_z)(a_r\delta_r-a_r\delta_s)=\alpha_z(\alpha_{z^*}(b_z)a_r)\delta_{zr}-\alpha_z(\alpha_{z^*}(b_z)a_r)\delta_{zs},
	\]</div>
	and since $zr\leq zs$ then $\mathscr{N}(\alpha)$ is a left ideal of $\mathscr{L}(\alpha)$, and similarly it is also a right ideal.<span class='qed'></span>
	</p>
</div>

<!-- 4.3.8 -->
<div class='definition' id='definitioncrossedproduct'>
	<p><span class='envidentifier'>Definition 4.3.8</span>
	Given an (algebraic) partial action $\alpha$ of $S$ on an algebra $A$, the (algebraic) <em>crossed product</em> $A\rtimes_\alpha S$ is the quotient algebra
	<div class='equation'>\[
		A\rtimes_\alpha S=\mathscr{L}(\alpha)/\mathscr{N}(\alpha).
	\]</div>
	As usual, we will simply write $\mathscr{L}$, $\mathscr{N}$ and $A\rtimes S$ when there is no risk of confusion.
	</p>
	<p>
	The class of an element $x\in\mathscr{L}(\alpha)$ in $\Skew$ will be denoted by $\overline{x}$.
	</p>
</div>

<!-- 4.3.9 -->
<div class='remark' id='remarkpresentationofalgebraiccrossedproduct'>
	<p><span class='envidentifier'>Remark 4.3.9</span>
	The difference from $\mathscr{L}$ to $A\rtimes S$ is that $A\rtimes S$ respects the order structure of $S$: Using the presentation of $\mathscr{L}(\alpha)$ given in Definition <span class='ref' data-tag='definitionLalpha'></span>, we obtain the following presentation of $A\rtimes S$: It is the free $R$-module generated by symbols $\overline{a_s\delta_s}$ where $s\in S$ and $a_s\in A_s$, and satisfying the relations
	<ul>
		<li>
		$\overline{a_s\delta_s}+\overline{b_s\delta_s}=\overline{(a_s+ b_s)\delta_s}$, whenever $a_s,b_s\in A_s$.
		</li>
		
		<li>
		$\lambda\left(\overline{a_s\delta_s}\right)=\overline{(\lambda a_s)\delta_s}$, whenever $a_s\in A_s$ and $\lambda\in R$.
		</li>
		
		<li>
		$\overline{a_r\delta_r}=\overline{a_r\delta_s}$, whenever $a_r\in A_r$ and $r\leq s$.
		</li>
	</ul>
	</p>
</div>

<p>
These are sometimes called "<em>partial</em> crossed products" or "<em>partial skew inverse semigroup algebras</em>" (e.g. in [<span class='ref' data-tag='MR3669934'></span>] and [<span class='ref' data-tag='MR3743184'></span>], respectively), while the name "crossed product" (or "skew inverse semigroup algebra") is reserved for global actions. Instead, we adopt the simplest nomenclature.
</p>

<p>
By the definition of $\mathscr{N}$, every map $\phi\colon\mathscr{L}\to X$, where $X$ is any set, which satisfies $\phi(a_r\delta_r)=\phi(a_r\delta_s)$ whenever $r\leq s$ and $a_r\in A_r$ factors through $A\rtimes S$. If $X$ is a group, ring or algebra and $\phi$ is a group, ring or algebra morphism, then so is the factor through $A\rtimes S$.
</p>

<!-- 4.3.10 -->
<div class='definition' id='definitiondiagonalcrossedproduct'>
	<p><span class='envidentifier'>Definition 4.3.10</span>
	The <em>diagonal subalgebra</em> of a partial crossed product $A\rtimes S$ is the subalgebra generated by elements of the form $\overline{a\delta_e}$, where $e\in E(S)$ and $a\in A_e$.
	</p>
</div>

<!-- 4.3.11 -->
<div class='proposition' id='propostion4311'>
	<p><span class='envidentifier'>Proposition 4.3.11</span>
	Suppose $\alpha$ is a (non-degenerate), algebraic partial action of $S$ on $A$, and assume that
	<ol class='roman'>
		<li>
		$A$ has local units;
		</li>
		
		<li>
		every ideal $A_e$, $e\in E(S)$, has local units.
		</li>
	</ol>
	Then the map $\iota:A\to A\rtimes S$, given by $a\mapsto \sum_{i=1}^n \overline{a_i\delta_{e_i}}$, where $e_i\in E(S)$ and $a_i\in A_{e_i}$ are chosen such that $a=\sum_{i=1}^n a_i$, is a well-defined injective algebra morphism.
	</p>
</div>

<p>
<a class='proofbutton' data-tag='proposition4311'>Proof</a>
</p>

<div class='proof' id='proofofproposition4311'>
	<p>
	We need to prove that the map $\iota$ is well-defined, that is, if $e_1,\ldots,e_n$ are idempotents and $a_i\in A_{e_i}$ are such that $\sum_{i=1}^n a_i=0$ in $A$, then $\sum_{i=1}^n\overline{a_i\delta_{e_i}}=0$ in $A\rtimes S$. We proceed by induction. If $n=1$ this is trivial, so suppose that the statement is valid for sums up to $n$ elements.
	</p>
	
	<p>
	Suppose that $a+\sum_{i=1}^n a_i=0$, where $a\in A_e$ and $a_i\in A_{e_i}$ for certain $e,e_i\in E(S)$. Let $u\in A$ be a local unit for $\left\{a,a_1,\ldots,a_n\right\}$, and $v\in A_e$ be a local unit for $\left\{a\right\}$. Then
	<div class='equation'>\[
		0=(u-v)a=-\sum_{i=1}^n(u-v)a_i,
	\]</div>
	and by the induction hypothesis,
	<div class='equation' id='equationdiagonalsubalgebraforcrossedproducts1'>\begin{align*}
		0
		&=\sum_{i=1}^n\overline{\left((u-v)a_i\right)\delta_{e_i}}\\
		&=\sum_{i=1}^n\overline{a_i\delta_{e_i}}-\sum_{i=1}^n\overline{(va_i)\delta_{e_i}}.\tag{4.3.1}
	\end{align*}</div>
	However, $va_i\in A_{e_i}\cap A_e\subseteq A_{ee_i}$, so
	<div class='equation'>\begin{align*}
		\sum_{i=1}^n\overline{(va_i)\delta_{e_i}}
			&=\sum_{i=1}^n\overline{(va_i)\delta_{ee_i}}\\
			&=\sum_{i=1}^n\overline{(va_i)\delta_e}\\
			&=\overline{\left(v\sum_{i=1}^n va_i\right)\delta_e}\\
			&=\overline{-va\delta_e}\\
			&=\overline{-a\delta_e},
	\end{align*}</div>
	and the previous equation implies that $\overline{a\delta_e+\sum_{i=1}^na_i\delta_{e_i}}=0$, as we wanted.
	</p>
	
	<p>
	It is readily seen that $\iota$ is an module morphism, and to check that it is an algebra morphism, take generating elements of $A$ of the form $a\in A_{e}$, $b\in A_{f}$, where $e,f\in E(S)$. Then $ab\in A_{ef}$, and
	<div class='equation'>\begin{align*}
		\iota(a)\iota(b)
			&=\overline{(a\delta_e)(b\delta_f)}\\
			&=\overline{\alpha_e(\alpha_{e^*}(a)b)\delta_{ef}}\\
			&=\overline{(ab)\delta_{ef}}\\
			&=\iota(ab).
	\end{align*}</div>
	</p>
	
	<p>
	Now consider the module morphism $\tau:A\rtimes S\to A$ satisfying $\tau(\overline{a_s\delta_s})=a_s$, which exists because of the presentation of $A\rtimes S$ given in Remark <span class='ref' data-tag='remarkpresentationofalgebraiccrossedproduct'></span>. Then, as $\tau\circ\iota$ is the identity of $A$, $\iota$ is injective.<span class='qed'></span>
	</p>
</div>

<div class='remark'>
	<p><span class='envidentifier'>Remark</span>
	Note that the map $\tau$ above is not an algebra morphism in general. For example, let $S=\langle g|g^2=1\rangle$ is the cyclic group of order $2$ and $A=\mathbb{C}^2$ with the pointwise structure of $\mathbb{C}$-algebra. Define an action $\alpha$ of $S$ on $A$ as
	<div class='equation'>\[
		\alpha_g(a,b)=(b,a),\qquad\alpha_1(a,b)=(a,b)
	\]</div>
	for all $(a,b)\in A$. Let $x=(1,0)\delta_g$ and $y=(0,1)\delta_1$. Then $xy=x$, so
	<div class='equation'>\[
		\tau(xy)=\tau(x)=(1,0).
	\]</div>
	However,
	<div class='equation'>\[
		\tau(x)\tau(y)=(1,0)(0,1)=(0,0).
	\]</div>
	</p>
</div>

<p>
We will now describe a universal property for crossed products. Intuitively, $A\rtimes_\alpha S$ is the algebra generated by $A$ and $S$ in a way that the partial action $\alpha$ becomes conjugation by elements of $S$. However in order for $S$ to be included in $A\rtimes_\alpha S$, we need that all ideals $A_s$ have units.
</p>

<!-- 4.3.12 -->
<div class='definition' id='definitioncovariantrepresentation'>
	<p><span class='envidentifier'>Definition 4.3.12</span>
	Let $\alpha$ be a partial action of $S$ on an algebra $A$. A <em>covariant representation</em> of $\alpha$ consists of an algebra $B$ and a pair $(\theta,\phi)$, where $\theta:S\to B$ is a partial morphism from $S$ to the multiplicative semigroup of $B$, and $\phi:A\to B$ is an algebra morphism, satisfying the <em>covariance</em> condition: For all $s\in S$ and $a_{s^*}\in A_{s^*}$,
	<div class='equation'>\[
		\phi(\alpha_s(a_{s^*}))=\theta(s)\phi(a_{s^*})\theta(s^*).
	\]</div>
	We say that $(\theta,\phi)$ is <em>non-degenerate</em> if $\theta(s)\theta(s^*)\in\phi(A_s)$ for all $s\in S$ (and <em>degenerate</em> otherwise).
	</p>
</div>

<!-- 4.3.13 -->
<div class='example'>
	<p><span class='envidentifier'>Example 4.3.13</span>
	Let $X$ be a non-compact, locally compact Hausdorff space, and $S$ be the semigroup under intersection of clopen subsets of $X$. Let $A=C_c(X)$ be the (real or complex) algebra of compactly supported continuous functions on $X$. For each $U\in S$, let $A_U=\left\{f\in C_c(X):\supp(f)\subseteq U\right\}$, and $\alpha_U$ be the identity on $A_U$. Then $\alpha$ is a global action of $S$ on $A$.
	</p>
	
	<p>
	Let $B=C_b(X)$ be the algebra of continuous bounded functions on $X$. Define a covariant representation $(\theta,\phi)$ of $\alpha$ on $B$ by letting $\phi:A\hookrightarrow B$ be the inclusion, and $\theta(U)$ be the characteristic function of $U\in S$. Then $(\theta,\phi)$ is non-degenerate if and only if $X$ is compact. Indeed, for each $U\in S$, $\theta(U)\theta(U^*)=\theta(U)$ belongs to $\phi(A_U)$ if and only if $U$ is compact. So $(\theta,\phi)$ is non-degenerate if and only if all clopen subsets of $X$ are compact, which is equivalent to say that $X$ is compact.
	</p>
</div>

<!-- 4.3.14 -->
<div class='lemma' id='lemmaforuniversalpropertyofcrossedproducts'>
	<p><span class='envidentifier'>Lemma 4.3.14</span>
	Let $(\theta,\phi)$ be a covariant representation of an algebraic partial action $\alpha:S\to\mathcal{I}(A)$.
	<ol class='alphpar'>
		<li>
		If $a_s\in A_s$ then
		<div class='equation' id='equationlemmaforuniversalpropertyofcrossedproductsitema'>\[
			\phi(a_s)=\theta(s)\theta(s^*)\phi(a_s)=\phi(a_s)\theta(s)\theta(s^*).\tag{4.3.2}
		\]</div>
		</li>
		
		<li>
		If $s\leq t$ and $a_s\in A_s$ then $\phi(a_s)\theta(s)=\phi(a_s)\theta(t)$.
		</li>
		
		<li>
		If $A_s$ has a unit $1_s$ and $(\theta,\phi)$ is non-degenerate, then
		<div class='equation'>\[
			\phi(1_s)\theta(s)=\theta(s)\qquad\text{and}\qquad\theta(s^*)\phi(1_s)=\theta(s^*).
		\]</div>
		</li>
	</ol>
	</p>
</div>

<p>
<a class='proofbutton' data-tag='lemmaforuniversalpropertyofcrossedproducts'>Proof</a>
</p>

<div class='proof' id='proofoflemmaforuniversalpropertyofcrossedproducts'>
	<ol class='alphpar'>
		<li>
		As $a_s=\alpha_s(\alpha_{s^*}(a_s))$, by covariance we get
		<div class='equation'>\[
			\phi(a_s)=\theta(s)\theta(s^*)\phi(a_s)\theta(s)\theta(s^*).
		\]</div>
		The partial morphism properties of $\theta$ imply
		<div class='equation'>\[
			\theta(s)\theta(s^*)\theta(s)\theta(s^*)=\theta(s)\theta(s^*),
		\]</div>
		and Equation <span class='ref' data-tag='equationlemmaforuniversalpropertyofcrossedproductsitema'></span> follows from these two equalities.
		</li>
		
		<li>
		Item (a) and $\theta$ being a partial morphism imply that, if $s\leq t$,
		<div class='equation'>\begin{align*}
			\phi(a_s)\theta(t)
			&=\phi(a_s)\theta(s)\theta(s^*)\theta(t)\\
			&=\phi(a_s)\theta(s)\theta(s^*t)\\
			&=\phi(a_s)\theta(s)\theta(s^*s)\\
			&=\phi(a_s)\theta(s)\theta(s^*)\theta(s)\\
			&=\phi(a_s)\theta(s).
		\end{align*}</div>
		</li>
		
		<li>
		Since $(\theta,\phi)$ is non-degenerate, then $\theta(s)\theta(s^*)\in\phi(A_s)$, so
		<div class='equation'>\[
			\theta(s)=\theta(s)\theta(s^*)\theta(s)=\phi(1_s)\theta(s)\theta(s^*)\theta(s)\overset{(a)}{=} \phi(1_s)\theta(s)
		\]</div>
		and the other equality is similar.<span class='qed'></span>
		</li>
	</ol>
</div>

<!-- 4.3.15 -->
<div class='theorem' id='theoremuniversalpropertyofcrossedproducts'>
	<p><span class='envidentifier'>Theorem 4.3.15</span>
	Suppose that $\alpha$ is an algebraic partial action of an inverse semigroup $S$ on an algebra $A$ with local units, and such that $A_s$ has a unit $1_s$ for all $s\in S$. Define
	<div class='equation'>\[
		\sigma:S\to A\rtimes S\quad\text{by}\quad \sigma(s)=\overline{1_s\delta_s}.
	\]</div>
	</p>
	
	<p>
	Let $\iota:A\to A\rtimes S$ be the embedding of $A$ as the diagonal subalgebra of $A\rtimes S$. Then $(\sigma,\iota)$ is a universal non-degenerate covariant representations of $\alpha$ in the following sense:
	<ol class='roman'>
		<li>
		$(\sigma,\iota)$ is a non-degenerate covariant representation;
		</li>
		
		<li>
		If $(\theta,\phi)$ is any other non-degenerate covariant representation of $\alpha$ on an algebra $B$, then there exists a unique algebra morphism $\Phi:A\rtimes S\to B$ such that
		<div class='equation'>\[
			\phi=\Phi\circ\iota\quad\text{and}\quad\theta=\Phi\circ\sigma.
		\]</div>
		</li>
	</ol>
	</p>
</div>

<p>
<a class='proofbutton' data-tag='theoremuniversalpropertyofcrossedproducts'>Proof</a>
</p>

<div class='proof' id='proofoftheoremuniversalpropertyofcrossedproducts'>
	<p>
	First we prove that $\sigma$ is a partial morphism. Given $s,t\in S$, we have $\alpha_s(1_{s^*})=1_s$ because $\alpha_s:A_{s^*}\to A_s$ is an algebra isomorphism, and it follows that
	<div class='equation' id='equationnondegeneracyuniversalpropertycrossedproduct'>\[
		\sigma(s)\sigma(s^*)=\overline{(1_s)\delta_s(1_{s^*})\delta_{s^*}}=\overline{1_s\delta_{ss^*}}.\tag{4.3.3}
	\]</div>
	</p>
<style>
ol.arpar.pmarpar > li:before {
  content: "(PM" counter(ar) ")";
}
ol.arpar.pmarpar > li {
  margin-left: 1em;
}
</style>
	<ol class='arpar pmarpar'>
		<li> Using Equation <span class='ref' data-tag='equationnondegeneracyuniversalpropertycrossedproduct'></span>, we compute
		<div class='equation'>\[
			\sigma(s)\sigma(s^*)\sigma(s)=\overline{1_s\delta_s}\overline{1_{s^*}\delta_{s^*s}}=\overline{1_s\delta_{ss^*s}}=\sigma(s).
		\]</div>
		</li>
		
		<li>
			<p>
			We have
			<div class='equation'>\[
				\sigma(s)\sigma(t)\sigma(t^*)=\overline{\alpha_s(1_{s^*}1_t)\delta_{stt^*}}
			\]</div>
			and
			<div class='equation'>\[
				\sigma(st)\sigma(t^*)=\overline{\alpha_{st}(1_{(st)^*}1_{t^*})\delta_{stt^*}}.
			\]</div>
			</p>
			
			<p>
			On one hand, $1_{s^*}1_t$ is the unit of $A_{s^*}\cap A_t$, so $\alpha_s(1_{s^*}1_t)$ is the unit of $\alpha_s(A_{s^*}\cap A_t)$.
			</p>
			
			<p>
			On the other hand, $1_{(st)^*}1_{t^*}$ is the unit of $A_{(st)^*}\cap A_{t^*}$, so $\alpha_{st}(1_{(st)^*}1_{t^*})$ is the unit of $\alpha_{st}(A_{(st)^*}\cap A_{t^*})$. Proposition <span class='ref' data-tag='propositioncomparingdomainspartialaction'></span>(b) and (c) imply
			<div class='equation'>\begin{align*}
				\alpha_s(A_{s^*}\cap A_t)
					&=A_s\cap A_{st}\\
					&=A_{(st)(st)^*s}\cap A_{st}\\
					&=A_{stt^*}\cap A_{st}\\
					&=\alpha_{st}(A_{(st)^*}\cap A_{t^*}),
			\end{align*}</div>
			and we conclude that $\sigma(s)\sigma(t)\sigma(t^*)=\sigma(st)\sigma(t^*)$.
			</p>
			</li>
			
		<li>
			As in the previous item, we compute
			<div class='equation'>\[
				\sigma(s^*)\sigma(s)\sigma(t)=\overline{1_{s^*}1_t\delta_{s^*st}}
			\]</div>
				and
			<div class='equation'>\[
				\sigma(s^*)\sigma(st)=\overline{\alpha_{s^*}(1_s1_{st})\delta_{s^*st}},
			\]</div>
			and note that both coefficients are the units of
			<div class='equation'>\[
				\alpha_{s^*}(A_s\cap A_{st})=A_{s^*}\cap A_{s^*st}=A_{s^*}\cap A_t,
			\]</div>
			again using Proposition <span class='ref' data-tag='propositioncomparingdomainspartialaction'></span>(b) and (c).
		</li>
	</ol>
			
	<p>
	We already know that $\iota$ is an algebra morphism. Using the definition of the product in $A\rtimes S$ and the fact that $\alpha_s(1_{s^*})=1_s$ we immediately obtain covariance of $(\sigma,\iota)$, and non-degeneracy follows from Equation (<span class='ref' data-tag='equationnondegeneracyuniversalpropertycrossedproduct'></span>).
	</p>
	
	<p>
	As for the universal property, suppose $(\theta,\phi)$ is a covariant representation of $\alpha$ on an algebra $B$. Using the presentation of $A\rtimes S$ in Remark <span class='ref' data-tag='remarkpresentationofalgebraiccrossedproduct'></span> and Lemma <span class='ref' data-tag='lemmaforuniversalpropertyofcrossedproducts'></span>(b), we can define a module morphism $\Phi:A\rtimes S\to B$ satisfying $\Phi(\overline{a_s\delta_s})=\phi(a_s)\theta(s)$ for all $a_s\in A_s$ ($s\in S$).
	</p>
	
	<p>
	Let us check that $\Phi$ is an algebra morphism: Let $\overline{a_s\delta_s},\overline{b_t\delta_t}$ be generators of $A\rtimes S$. Then
	<div class='equation'>\[
		\Phi(\overline{(a_s\delta_s)(b_t\delta_t)})=\Phi(\overline{\alpha_s(\alpha_{s^*}(a_s)b_t)\delta_{st}})=\phi(\overline{\alpha_s(\alpha_{s^*}(a_s)b_t)}\theta(st)),
	\]</div>
	and using covariance and $\phi$ being multiplicative, we obtain
	<div class='equation' id='equationtheoremuniversalpropertyofcrossedproducts1'>\[
	\Phi(\overline{(a_s\delta_s)(b_t\delta_t)})=\theta(s)\theta(s^*)\phi(a_s)\theta(s)\phi(b_t)\theta(s^*)\theta(st).\tag{4.3.4}
	\]</div>
	On the other hand,
	<div class='equation' id='equationtheoremuniversalpropertyofcrossedproducts1.5'>\[
		\Phi(\overline{a_s\delta_s})\Phi(\overline{b_t\delta_t})=\phi(a_s)\theta(s)\phi(b_t)\theta(t)\tag{4.3.5},
	\]</div>
	so we will modify the right-hand term of Equation (<span class='ref' data-tag='equationtheoremuniversalpropertyofcrossedproducts1'></span>) to obtain the right-hand term of (<span class='ref' data-tag='equationtheoremuniversalpropertyofcrossedproducts1.5'></span>).
	</p>
	
	<p>
	From Lemma <span class='ref' data-tag='lemmaforuniversalpropertyofcrossedproducts'></span>(a), we obtain
	<div class='equation' id='equationtheoremuniversalpropertyofcrossedproducts2'>\[
		\theta(s)\theta(s^*)\phi(a_s)=\phi(a_s).\tag{4.3.6}
	\]</div>
	</p>
	
	<p>
	By Lemma <span class='ref' data-tag='lemmaforuniversalpropertyofcrossedproducts'></span>(c) and (a), (and the inclusion $1_{s^*}b_t\in A_{s^*}$), we obtain
	<div class='equation' id='equationtheoremuniversalpropertyofcrossedproducts3'>\begin{align*}
		\theta(s)\phi(b_t)\theta(s^*)\theta(st)
			&=\theta(s)\phi(1_{s^*}b_t)\theta(s^*)\theta(s)\theta(t)\\
			&=\theta(s)\phi(1_{s^*}b_t)\theta(t)\\
			&=\theta(s)\phi(b_t)\theta(t).\tag{4.3.7}
	\end{align*}</div>
	The product of the left-hand sides of Equations (<span class='ref' data-tag='equationtheoremuniversalpropertyofcrossedproducts2'></span>) and (<span class='ref' data-tag='equationtheoremuniversalpropertyofcrossedproducts3'></span>) is precisely the right-hand side of Equation (<span class='ref' data-tag='equationtheoremuniversalpropertyofcrossedproducts1'></span>), whereas the products of the right-hand sides of the same Equations (<span class='ref' data-tag='equationtheoremuniversalpropertyofcrossedproducts2'></span>) and (<span class='ref' data-tag='equationtheoremuniversalpropertyofcrossedproducts3'></span>) is precisely the right-hand side of Equation (<span class='ref' data-tag='equationtheoremuniversalpropertyofcrossedproducts1.5'></span>). Thus the left-hand sides of Equations (<span class='ref' data-tag='equationtheoremuniversalpropertyofcrossedproducts1'></span>) and (<span class='ref' data-tag='equationtheoremuniversalpropertyofcrossedproducts1.5'></span>) coincide, and we conclude that $\Phi$ is an algebra morphism.
	</p>
	
	<p>
	Given $e\in E(S)$ and $a_e\in A_e$, Lemma <span class='ref' data-tag='lemmaforuniversalpropertyofcrossedproducts'></span>(a) and $\theta(e)$ being idempotent imply that
	<div class='equation'>\[
		\Phi(\iota(a_e))=\phi(a_e)\theta(e)=\phi(a_e)\theta(e)\theta(e^*)=\phi(a_e),
	\]</div>
	and so $\Phi\circ\iota=\phi$ on $A_e$ and thus on all of $A$. The fact that $\Phi\circ\sigma=\theta$ follows from Lemma <span class='ref' data-tag='lemmaforuniversalpropertyofcrossedproducts'></span>(c).
	</p>
	
	<p>
	Finally, uniqueness of $\Phi$ with the properties in (ii) is a consequence of $\overline{a_s\delta_s}$ being equal to $\iota(a_s)\sigma(\delta_s)$ for all $s\in S$ and $a_s\in A_s$.<span class='qed'></span>
	</p>
</div>

</div>

</body>

<script>
$('.ref').each( function(){
	$(this).load('../references/' + $(this).data('tag') + ' .reflink');
});
</script>
<script>
$('.ref').hover(function(){
	$('#closerightbar').show();
	$('#rightbar').load('../references/' + $(this).data('tag') + ' .toload', function () {
		MathJax.Hub.Queue(["Typeset", MathJax.Hub, "rightbar"]);
		
		$('#rightbar .ref').each( function(){
			$(this).load('../references/' + $(this).data('tag') + ' .reflink');
			});
		});
	},function(){}); // added empty function for when mouse gets out to avoid reloading mathjax
	// this does just creates links inside the right bar. Does not set the hover function for them
</script>

<script>
$('.proofbutton').each(function() {
  var target = $(this).data('tag');
  $(this).attr('href', 'javascript:void(0)');
  $(this).click(function() {
      $('#proofof' + target).toggle();
  });
});
</script>

<script>
function closerightbar(){
	$('#closerightbar').hide();
	$('#rightbar').empty();
}
</script>

</html>