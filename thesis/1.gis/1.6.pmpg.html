<!DOCTYPE html>
<!-------------------------------------------------------
The beggining should be equal for all files
--------------------------------------------------------->
<html>
<head>

	<title>Soficity and other dynamical aspects of groupoids and inverse semigroups</title>

	<script src="../../jquery-3.4.1.min.js"></script> 
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			extensions: ["tex2jax.js"],
			jax: ['input/TeX','output/HTML-CSS'],
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']]
				},
			TeX: {extensions: ['xypic.js','AMSmath.js', 'AMSsymbols.js', 'AMScd.js', ]}
		});
	</script>
	
	<script type="text/javascript" src="../../mathjax/MathJax.js?config=default"></script>

	<script type="text/javascript">
	   function toggle_visibility(id) {
		   var e = document.getElementById(id);
		   if(e.style.display == 'block')
			  e.style.display = 'none';
		   else
			  e.style.display = 'block';
	   }
	</script>

	<link rel="stylesheet" type="text/css" href="../src/style.css">

	<title>
		Soficity and other dynamical aspects of groupoids and inverse semigroups
	</title>
</head>
<body>

<div style="display: none" id="latexcommands" style=""></div>
<script>
$( "#latexcommands" ).load( "../src/latexcommands" );
	</script>

<div id="sidebar" class="sidebar"></div>

<script>
$( "#sidebar" ).load( "../src/sidebar" );
</script>

<!-------------------------------------------------------
RIGHT BAR
-------------------------------------------------------->

<div class="fullrightbar">
<div id="closerightbar" style='margin-bottom:1em;display:none;'>
	[<a href='javascript:void(0)' onclick='closerightbar()'>Close</a>]
</div>
<div id='rightbar'></div>
</div>

<!-------------------------------------------------------
MAIN
-------------------------------------------------------->

<div class="main">

<h2 class='section'>1.6. Probability measure-preserving groupoids</h2>

<p>
In principle, we will consider more general Borel groupoids than in most usual references - namely, we will not make any assumptions about standardness or analyticity of the Borel structure at hand. See Mackey ([<span class='ref' data-tag='MR0165034'></span>, <span class='ref' data-tag='MR0201562'></span>]), Ramsay ([<span class='ref' data-tag='MR0281876'></span>]) and Hahn ([<span class='ref' data-tag='MR496796'></span>, <span class='ref' data-tag='MR496797'></span>]).
</p>

<!-- 1.6.1 -->
<div class='definition'>
	<p><span class='envidentifier'>Definition 1.6.1</span>
	A <em>Borel groupoid</em> consists of a groupoid $\mathcal{G}$ endowed with a Borel (measurable) structure (i.e., a $\sigma$-algebra) such that the product and inverse maps are Borel (where $\mathcal{G}^{(0)}$ and $\mathcal{G}^{(2)}$ are endowed with the induced Borel structures from $\mathcal{G}$ and $\mathcal{G}\times\mathcal{G}$, respectively).
	</p>
</div>

<p>
Note that we are not assuming that $\mathcal{G}^{(0)}$ is Borel in $\mathcal{G}$, nor that $\mathcal{G}^{(2)}$ is Borel in $\mathcal{G}\times\mathcal{G}$. 
</p>

<!-- 1.6.2 -->
<div class='example'>
	<p><span class='envidentifier'>Example 1.6.2</span>
	Let $X$ be any uncountable set, endowed with the $\sigma$-algebra of countable or co-countable subsets. Then the diagonal $\Delta_X=\left\{(x,x)\in X\times X:x\in X\right\}$ is not Borel in $X\times X$.</p>
		<ul>
			<li> As a unit groupoid, $X$ is a Borel groupoid, but $X^{(2)}=\Delta_X$ is not Borel in $X\times X$.</li>
			<li> Let $\mathcal{G}=X\times X$, the coarsest equivalence relation on $X$, endowed with the product $\sigma$-algebra. Then $\mathcal{G}$ is a Borel groupoid, but $\mathcal{G}^{(0)}=\Delta_X$ is not Borel in $\mathcal{G}$ (and $\mathcal{G}^{(2)}$ is also not Borel in $\mathcal{G}\times\mathcal{G}$).</li>
		</ul>
</div>

<!-- 1.6.3 -->
<div class='example'>
	<p><span class='envidentifier'>Example 1.6.3</span>
	Every Ã©tale groupoid with the Borel $\sigma$-algebra (generated by the topology) is a Borel groupoid.
	</p>
</div>

<!-- 1.6.4 -->
<div class='example' id='examplesigmacompactampleisborel'>
	<p><span class='envidentifier'>Example 1.6.4</span>
	If $\mathcal{G}$ is a $\sigma$-compact ample Hausdorff groupoid, then $\mathcal{G}$ is a Borel groupoid when endowed with the Baire $\sigma$-algebra (generated by compact $G_\delta$ sets, or equivalently by $\KB(\mathcal{G})$ -- see remark below). Indeed, given $A\in\KB(\mathcal{G})$, the inverse $A^{-1}$ also belongs to $\KB(\mathcal{G})$ and so the inversion is measurable. To check that the product map $m:\mathcal{G}^{(2)}\to \mathcal{G}$ is measurable, let $A\in\KB(\mathcal{G})$. For any pair $C,D\in\KB(\mathcal{G})$, the set $m^{-1}(A)\cap(C\times D)$ is a compact-open subset of $\mathcal{G}^{(2)}$, and so it can be written as a finite union
	<div class='equation'>\[
	m^{-1}(A)\cap(C\times D)=\bigcup_{i=1}^n(A_i\times B_i)\cap\mathcal{G}^{(2)}
	\]</div>
	for some $A_i,B_i\in\KB(\mathcal{G})$. In particular, $m^{-1}(A)\cap(C\times D)$ is measurable in $\mathcal{G}^{(2)}$, for any $C,D\in\KB(\mathcal{G})$, and $\sigma$-compactness of $\mathcal{G}$ allows us to conclude that $m^{-1}(A)$ is measurable in $\mathcal{G}^{(2)}$.
	</p>
</div>

<div class='remark'>
	<p><span class='envidentifier'>Remark</span>
	If $X$ is any zero-dimensional, locally compact Hausdorff topological space and $\mathcal{B}$ is a basis for $X$ whose elements are compact-open, then the Baire $\sigma$-algebra of $X$ is generated by $\mathcal{B}$. Indeed, every element of $\mathcal{B}$ is a compact $G_\delta$, so it is a Baire set. Conversely, if $K\subseteq X$ is compact, $U\subseteq X$ is open and $K\subseteq U$, there are $A_1,\ldots,A_n\in\mathcal{B}$ such that $K\subseteq\bigcup_{i=1}^n A_i\subseteq U$. If $K$ is $G_\delta$ we conclude that $K$ is a countable intersection of finite unions of element of $\mathcal{B}$, and therefore every Baire set is in the $\sigma$-algebra generated by $\mathcal{B}$.
	</p>
</div>

<p>
Borel groupoids are the measurable analogues of topological groupoids, and - in the same manner as in the topological setting - we will be interested in semigroups of bisections which encode their Borel structure.
</p>

<!-- 1.6.5 -->
<div class='definition'>
	<p><span class='envidentifier'>Definition 1.6.5</span>
	Given a Borel groupoid $\mathcal{G}$, define $\BOR(\mathcal{G})$ as the set of Borel subsets of $\mathcal{G}$ for which the source and range maps are Borel isomorphisms onto Borel subsets of $\mathcal{G}^{(0)}$ (given the induced structure from $\mathcal{G}$). We call it the <em>Borel semigroup</em> of $G$.
	</p>
</div>

<p>
Note that if $A\in\BOR(\mathcal{G})$ then $A^*\in \BOR(\mathcal{G})$ as well.
</p>

<!-- 1.6.6 -->
<div class='proposition' id='proposition166'>
	<p><span class='envidentifier'>Proposition 1.6.6</span>
	$\BOR(\mathcal{G})$ is closed under products: If $A,B\in\BOR(\mathcal{G})$ then $AB=\left\{ab:(a,b)\in(A\times B)\cap\mathcal{G}^{(2)}\right\}\in\BOR(\mathcal{G})$.
	</p>
</div>

<a class='proofbutton' data-tag='proposition166'>Proof</a>
<div class='proof' id='proofofproposition166'>
	<p>
	If $A\in\BOR(\mathcal{G})$ and $D\subseteq\mathcal{G}$ is Borel, then $AD$ consists of the elements of $\mathcal{G}$ such that when multiplied by an appropriate element of $A^*$ on the left yield an element of $D$, i.e.,
	<div class='equation'>\[
	AD=\left\{c\in\ra^{-1}(\ra(A)):\ra|_A^{-1}(\ra(c))^{-1}c\in D\right\}
	\]</div>
	is Borel, because the range map $\ra$ restricts to a Borel isomorphism from $A$ to the Borel subset $\ra(A)$ of $\mathcal{G}^{(0)}$, and the product and inverse maps are Borel. Similarly, $DA$ is Borel.
	</p>

	<p>
	If $A,B\in\BOR(\mathcal{G})$, then the argument above shows that $AB$ is Borel. If $D\subseteq AB$ is Borel, then
	<div class='equation'>\[
	\ra(D)=DB^*
	\]</div>
	is Borel, because $B^*\in\BOR(\mathcal{G})$. In particular $\ra(AB)$ is Borel in $\mathcal{G}^{(0)}$ and this also proves that the range map is a Borel isomorphism from $AB$ to its image. The source map is deal with similarly, so $AB\in\BOR(\mathcal{G})$.<span class='qed'></span>
	</p>
</div>

<p>
In general, $\BOR(\mathcal{G})$ is not equal to the set of bisections which are Borel subsets of $\mathcal{G}$, and $\mathcal{G}$ cannot be covered by elements of $\BOR(\mathcal{G})$. Therefore we will restrain from mentioning "Borel bisections", except when these two notions coincide.
</p>

<!-- 1.6.7 -->
<div class='example' id='exampleomega1borelisfunny'>
	<p><span class='envidentifier'>Example 1.6.7</span>
	Let $\omega_1$ be the first uncountable ordinal (<span class='ref' data-tag='footnoteuniquenessoffirstuncord' id='footnoteuniquenessoffirstuncord'></span>), viewed as a unit groupoid, and let $F$ be any nontrivial countable group with unit $1_F$. Let $\mathcal{G}=\omega_1\sqcup F$ be the coproduct groupoid. We endow $\mathcal{G}$ with the $\sigma$-algebra generated by sets of the forms
	<div class='equation'>\[
	[0,\alpha]=\left\{\beta\in\omega_1:\beta\leq\alpha\right\},\qquad\alpha\in\omega_1,
	\]</div>
	and
	<div class='equation'>\[
	\left\{a\right\},\qquad a\in F\setminus\left\{1_F\right\}.
	\]</div>
	Let us check that $\mathcal{G}$ is a Borel groupoid: given $\alpha\in\omega_1$, $[0,\alpha]^{-1}=[0,\alpha]$ is Borel, and if $a\in F\setminus\left\{1_F\right\}$ then $\left\{a\right\}^{-1}=\left\{a^{-1}\right\}$ is also Borel, because $a^{-1}\neq 1_F$), so the inversion map is Borel.
	</p>

	<p>
	Note, moreover, that $\mathcal{G}^{(0)}=\omega_1\cup\left\{1_F\right\}=\mathcal{G}\setminus\bigcup_{a\in F\setminus\left\{1_F\right\}}\left\{a\right\}$ is Borel in $\mathcal{G}$ (and can be identified with the successor ordinal $\omega_1+1$).
	</p>

	<p>
	Let $m:\mathcal{G}^{(2)}\to \mathcal{G}$ be the product map. If $\alpha\in\omega_1$, then
	<div class='equation'>\[
	m^{-1}([0,\alpha])=([0,\alpha]\times[0,\alpha])\cap\mathcal{G}^{(2)}
	\]</div>
	is Borel in $\mathcal{G}^{(2)}$, and if $a\in F\setminus\left\{1_F\right\}$, then
	<div class='equation'>\[
	m^{-1}(\left\{a\right\})=\bigcup_{g\in F\setminus\left\{1_F,a\right\}}\left[\left(\left\{g\right\}\times\left\{g^{-1}a\right\}\right)\cup\left(\mathcal{G}^{(0)}\times\left\{a\right\}\right)\cup\left(\left\{a\right\}\cup\mathcal{G}^{(0)}\right)\right]\cap\mathcal{G}^{(2)}
	\]</div>
	is also Borel in $\mathcal{G}^{(2)}$. Therefore $\mathcal{G}$ is a Borel groupoid.
	</p>

	<p>
	Now note that every Borel set in $\mathcal{G}$ either contains a set of the form
	<div class='equation'>\[
	(\alpha,\omega_1)\cup\left\{1_F\right\}=\left\{\beta\in\omega_1:\alpha<\beta\right\}\cup\left\{1_F\right\},\qquad\alpha\in\omega_1
	\]</div>
	or its complement does. In particular, $\left\{1_F\right\}$ is not Borel in $\mathcal{G}$, and this implies that no $a\in F\setminus\left\{1_F\right\}$ is contained in any element of $\BOR(\mathcal{G})$, even though $\left\{a\right\}$ is a bisection which is a Borel subset of $\mathcal{G}$.
	</p>
</div>

<!-- 1.6.8 -->
<div class='proposition' id='propositionwheneveryborelbisectionisborelbisection'>
	<p><span class='envidentifier'>Proposition 1.6.8</span>
	Let $\mathcal{G}$ be a Borel groupoid for which there exists a countable family $\mathcal{C}\subseteq\BOR(\mathcal{G})$ such that $\mathcal{G}\subseteq\bigcup\mathcal{C}$. Then every bisection of $\mathcal{G}$ which is a Borel subset belongs to $\BOR(\mathcal{G})$.
	</p>
</div>

<a class='proofbutton' data-tag='propositionwheneveryborelbisectionisborelbisection'>Proof</a>
<div class='proof' id='proofofpropositionwheneveryborelbisectionisborelbisection'>
	<p>
	If $C\in\mathcal{C}$ and $A$ is a Borel subset of $C$, then of course $A\in\BOR(\mathcal{G})$, since the source and range maps on $A$ are simply the restrictions of the source and range maps on $C$ and so are Borel isomorphism onto their (Borel) images.
	</p>

	<p>
	In general, if $A$ is a bisection of $\mathcal{G}$ which is a Borel subset, then $A=\bigcup_{C\in\mathcal{C}}(A\cap C)$, and each term $A\cap C$ belongs to $\BOR(\mathcal{G})$, hence $A\in\BOR(\mathcal{G})$.<span class='qed'></span>
	</p>
</div>

<p>
Recall that a Borel space $X$ is <em>standard</em> if there is a separable (equivalently, second-countable) completely metrizable topology on $X$ which induces the initial Borel structure. Standard Borel spaces have good analytical properties and are more manageable than general Borel spaces. For a detailed discussion of standard Borel spaces (and more general classes of Borel spaces), see [<span class='ref' data-tag='MR1321597'></span>].
</p>

<p>
We recall the reader that the <em>graph</em> of a function $f:X\to Y$ is $\operatorname{graph}(f)=\left\{(f(x),x):x\in X\right\}$ (see Definition <span class='ref' data-tag='definitiongraphoffunction'></span> and the remark succeeding it).
</p>

<!-- 1.6.9 -->
<div class='theorem' id='theoremkechrisborelmapsofstandardaregood'>
	<p><span class='envidentifier'>Theorem 1.6.9
	<span style='font-weight:normal;'>[<span class='ref' data-tag='MR1321597'></span>, Theorems 14.12 and 15.2]</span></span>
	Let $X,Y$ be standard Borel spaces and $f:X\to Y$. Then $f$ is Borel if and only if $\operatorname{graph}(f)$ is Borel in $Y\times X$, and in this case, if $A\subseteq X$ is Borel and $f|_A$ is injective then $f(A)$ is Borel.
	</p>
</div>

<p>
Let $\pi_X$ and $\pi_Y$ be the projection maps of $X\times Y$:
<div class='equation'>\[
\pi_X(x,y)=x,\qquad\pi_Y(x,y)=y.
\]</div>
A subset $P\subseteq X\times Y$ is called a <em>graph</em> if $\pi_Y$ is injective on $P$. One important result in the study of standard Borel spaces is the <em>Lusin-Novikov (Uniformization) Theorem</em>.
</p>

<!-- 1.6.10 -->
<div class='theorem' id='theoremlusinnovikov'>
	<p><span class='envidentifier'>Theorem 1.6.10
	<span style='font-weight:normal;'>[<span class='ref' data-tag='MR1321597'></span>, Theorem 18.10]</span></span>
	Let $X,Y$ be standard Borel spaces and $P\subseteq X\times Y$ a Borel subset such that for all $x\in X$, the <em>section</em>
	<div class='equation'>\[
	P_y=\left\{x\in X:(x,y)\in P\right\}
	\]</div>
	is (at most) countable. Then $P$ is a countable union of Borel graphs.
	</p>
</div>

<p>
We will be interested in the following equivalent form of the Lusin-Novikov Theorem (compare with Exercises 18.14 and 18.15 of [<span class='ref' data-tag='MR1321597'></span>]):
</p>

<!-- 1.6.11 -->
<div class='theorem' id='theoremalteredlusinnovikov'>
	<p><span class='envidentifier'>Theorem 1.6.11</span>
	Let $X$ and $Y$ be two standard Borel spaces and $f:X\to Y$ a <em>countable-to-one</em> function, that is, $f^{-1}(y)$ is (at most) countable for all $y\in Y$. Then there is a Borel partition $\left\{X_n\right\}_n$ of $X$ such that the restriction $f|_{X_n}:X_n\to f(X_n)$ is a Borel isomorphism -- that is $f|_{X_n}$ is bijective with Borel inverse -- for all $n$ (and $f(X_n)$ is Borel in $Y$ for all $n$).
	</p>

	<p>
	In particular if $A\subseteq X$ is Borel then $f(A)$ is Borel in $Y$.
	</p>
</div>

<a class='proofbutton' data-tag='theoremalteredlusinnovikov'>Proof</a>
<div class='proof' id='proofoftheoremalteredlusinnovikov'>
	<p>
	Let $P=\left\{(x,f(x))\in X\times Y:x\in X\right\}$, which is Borel since it is the opposite of $\operatorname{graph}(f)$, and all sections $P_y$ ($y\in Y$) are countable (in fact, $P_y=f^{-1}(y)\times\left\{y\right\}$). By the Lusin-Novikov Theorem, there are Borel graphs $P_n\subseteq P$ such that $P=\bigcup_{n=1}^\infty P_n$, and of course we can assume the $P_n$ are pairwise disjoint, by substituting $P_n$ by $P_n\setminus\bigcup_{i=1}^{n-1}P_i$ for $n\geq 2$, if necessary.
	</p>

	<p>
	The projection $\pi_X:P\to X$ is a bijection, so we can take $X_n=\pi_X(P_n)$. Theorem <span class='ref' data-tag='theoremkechrisborelmapsofstandardaregood'></span> implies both that each of the sets $X_n$ and $f(X_n)=\pi_Y(P_n)$ are Borel in $X$ and $Y$, respectively, and that $f|_{X_n}$ is a Borel isomorphism.<span class='qed'></span>
	</p>
</div>

<div class='remark'>
	<p><span class='envidentifier'>Remark</span>
	The usual form of the Lusin-Novikov Theorem follows from the one above, since if $P$ has countable sections $P_y$ ($y\in Y$) then the projection $\pi_Y$ is countable-to-one on $P$, and the partition $\left\{P_n\right\}_n$ yielded by Theorem <span class='ref' data-tag='theoremalteredlusinnovikov'></span> will be a partition by Borel graphs.
	</p>
</div>

<!-- 1.6.12 -->
<div class='corollary' id='corollarysurjectiveborelmapshavesections'>
	<p><span class='envidentifier'>Corollary 1.6.12</span>
	If $X$ and $Y$ are standard Borel spaces and $f:X\to Y$ is a countable-to-one surjective Borel map, then there is a Borel map $g:Y\to X$ such that $fg=\id_Y$, that is, $f$ admits a <em>Borel section</em> (equivalently, there is a Borel subset $X'$ of $X$ such that the restriction $f|_{X'}$ is a Borel isomorphism onto $Y$).
	</p>
</div>

<a class='proofbutton' data-tag='corollarysurjectiveborelmapshavesections'>Proof</a>
<div class='proof' id='proofofcorollarysurjectiveborelmapshavesections'>
	<p>
	Let $\left\{X_n\right\}_n$ be a countable Borel partition of $X$ such that $f|_{X_n}$ is a Borel isomorphism onto its image for all $n$. In particular, $Y=\bigcup_n f(X_n)$, so we define $g=f|_{X_1}^{-1}$ on $f(X_1)$, and $g=f|_{X_n}^{-1}$ on $X_n\setminus\bigcup_{i=1}^{n-1} f(X_i)$ for all $n\geq 2$.<span class='qed'></span>
	</p>
</div>

<!-- 1.6.13 -->
<div class='definition'>
<p><span class='envidentifier'>Definition 1.6.13
<span style='font-weight:normal;'>[<span class='ref' data-tag='MR3142029'></span>, <span class='ref' data-tag='MR1799683'></span>]</span></span>
A groupoid $\mathcal{G}$ is <em>$\ra$-discrete</em> if $\mathcal{G}^x=\ra^{-1}(x)$ is (at most) countable for all $x\in\mathcal{G}^{(0)}$ (equivalently, $\mathcal{G}_x=\so^{-1}(x)$ is countable for all $x\in\mathcal{G}^{(0)}$).
</p>
</div>

<div class='remark'>
	<p><span class='envidentifier'>Remark</span>
	In [<span class='ref' data-tag='MR584266'></span>, Definition 2.6], Renault uses $\ra$-discreteness in the topological setting to mean that the unit space $\mathcal{G}$ of a locally compact Hausdorff groupoid is open. If $\mathcal{G}$ is second-countable and $\mathcal{G}^{(0)}$ is open then $\mathcal{G}_x$ is countable for all $x\in X$, but the converse is not true even in the case of a second-countable groupoid (see Example <span class='ref' data-tag='exampledifferenttopologyonZ'></span>). The definition we adopt is of more common usage in the measurable setting (such as in [<span class='ref' data-tag='MR1799683'></span>]).
	</p>
</div>

<p>
An immediate consequence of the Lusin-Novikov Theorem (<span class='ref' data-tag='theoremalteredlusinnovikov'></span>) and Proposition <span class='ref' data-tag='propositionwheneveryborelbisectionisborelbisection'></span> is the following:
</p>

<!-- 1.6.14 -->
<div class='proposition' id='radiscretestandardiscoveredbycountablymanyborg'>
	<p><span class='envidentifier'>Proposition 1.6.14</span>
	If $\mathcal{G}$ is a standard $\ra$-discrete Borel groupoid, then $\mathcal{G}$ is covered by countably many elements of $\BOR(\mathcal{G})$, and every Borel subset of $\mathcal{G}$ which is a bisection belongs to $\BOR(\mathcal{G})$.
	</p>
</div>

<div class='remark'>
	<p><span class='envidentifier'>Remark</span>
	If $X$ is any (possibly non-standard) Borel space, seen as a Borel unit groupoid, then $\BOR(\mathcal{G})$ is simply the family of Borel subsets of $X$, and $X$ is covered by $\left\{X\right\}$. Thus standardness of a Borel groupoid is not in general a consequence of $\mathcal{G}$ being covered by countably many elements of $\BOR(\mathcal{G})$.
	</p>
</div>

<!-- 1.6.15 -->
<div class='example' id='exampleborelstructureequivalencerelationisunique'>
	<p><span class='envidentifier'>Example 1.6.15</span>
	If $X$ is a standard Borel space and $R$ is a $\ra$-discrete equivalence relation on $X$, then the only standard groupoid Borel structure on $R$ which induces the initial Borel structure of $X=R^{(0)}$ is the one coming from the product $X\times X$. This follows from the Lusin-Novikov Theorem applied to the inclusion map $R\hookrightarrow X\times X$.
	</p>

	<p>
	In this case, $R$ is a Borel subset of $X\times X$, and under the usual identification of bisections of $R$ as partial maps on $X$ preserving $R$-equivalence classes (Example <span class='ref' data-tag='examplebisectionsofequivalencerelationarefunctions'></span>), elements of $\BOR(R)$ corresponds partial Borel automorphisms $f:A\to B$, where $A,B\subseteq X$ are Borel.
	</p>
</div>

<!-- 1.6.16 -->
<div class='example'>
	<p><span class='envidentifier'>Example 1.6.16</span>
	Every countable group is standard and $\ra$-discrete as a groupoid, with the discrete $\sigma$-algebra.
	</p>
</div>

<!-- 1.6.17 -->
<div class='example'>
	<p><span class='envidentifier'>Example 1.6.17</span>
	More generally, if $G$ is a countable group acting via Borel automorphisms on a standard Borel space $X$, then the transformation groupoid $G\ltimes X$ and the orbit groupoid $\mathcal{R}(G\ltimes X)$ are standard and $\ra$-discrete (where we endow $G$ with the discrete $\sigma$-algebra).
	</p>
</div>

<!-- 1.6.18 -->
<div class='theorem' id='theoremquotientfrommeasuredgroupoidtoorbitrelation'>
	<p><span class='envidentifier'>Theorem 1.6.18</span>
	Let $\mathcal{G}$ be an $\ra$-discrete  Borel groupoid. Let $R=\mathcal{R}(\mathcal{G})=(\ra,\so)(\mathcal{G})=\left\{(\ra(a),\so(a)):a\in\mathcal{G}\right\}$ be the orbit equivalence relation on $\mathcal{G}^{(0)}$, endowed with the $\sigma$-algebra coming from the product $\sigma$-algebra of $\mathcal{G}^{(0)}\times\mathcal{G}^{(0)}$. Then $R$ is also $\ra$-discrete and standard Borel, hence an $\ra$-discrete Borel groupoid on its own right. Moreover, there is a map $\rho:\BOR(R)\to\BOR(\mathcal{G})$ such that $(\ra,\so)\circ\rho=\id_{\BOR(R)}$.
	</p>
</div>

<a class='proofbutton' data-tag='theoremquotientfrommeasuredgroupoidtoorbitrelation'>Proof</a>
<div class='proof' id='proofoftheoremquotientfrommeasuredgroupoidtoorbitrelation'>
	<p>
	As usual, we identify $\mathcal{G}^{(0)}$ and $R^{(0)}$. If we denote by $\so_{\mathcal{G}}$ and $\so_R$ the source maps and on $\mathcal{G}$ and $R$, respectively, and similarly for the range maps, then for all $x\in \mathcal{G}^{(0)}$,
	<div class='equation'>\[
	\ra_R^{-1}(x)=(\ra_{\mathcal{G}},\so_{\mathcal{G}})\left(\left(\ra_{\mathcal{G}}\right)^{-1}(x)\right),
	\]</div>
	so $R$ is $\ra$-discrete. The structure maps of $R$ are all Borel, and $R$ is a Borel image of the standard Borel space $\mathcal{G}$ so $R$ is standard as well.
	</p>

	<p>
	Since $(\ra_{\mathcal{G}},\so_{\mathcal{G}}):\mathcal{G}\to R$ is surjective, let $g:R\to\mathcal{G}$ be any Borel section, by Corollary <span class='ref' data-tag='corollarysurjectiveborelmapshavesections'></span>, so that $g$ is injective and induces, by Theorem <span class='ref' data-tag='theoremkechrisborelmapsofstandardaregood'></span>, a map $\rho:\BOR(R)\to\BOR(\mathcal{G})$, $\rho(A)=g(A)$.<span class='qed'></span>
	</p>
</div>

<p>
The following is also an important result by Feldman and Moore, which proves that every principal standard discrete groupoid is actually the orbit groupoid of some Borel group action.
</p>

<!-- 1.6.19 -->
<div class='corollary' id='corollaryfeldmanmoore'>
	<p><span class='envidentifier'>Corollary 1.6.19
	<span style='font-weight:normal;'>[<span class='ref' data-tag='MR0578656'></span>, Theorem 1]</span></span>
	If $X$ is a standard Borel space and $R\subseteq X\times X$ is an $\ra$-discrete Borel equivalence relation (that is $R$ is Borel in $X\times X$), then there is a countable group $G$ and an action of $G$ on $X$ by Borel automorphisms such that $R=\left\{(gx,x):g\in G\right\}$.
	</p>
</div>

<a class='proofbutton' data-tag='corollaryfeldmanmoore'>Proof</a>
<div class='proof' id='proofofcorollaryfeldmanmoore'>
	<p>
	Since $X$ is standard, we endow it with a completely metrizable separable, and so second-countable and Hausdorff, topology which induces the Borel structure, and so the set $\left\{(x,y)\in X\times X:x\neq y\right\}$ is open and can be written as a countable union of open rectangles sets $E_n=A_n\times B_n$, where $A_n,B_n\subseteq X$ are open and $A_n\cap B_n=\varnothing$.
	</p>

	<p>
	By the Lusin-Novikov Theorem <span class='ref' data-tag='theoremlusinnovikov'></span>, we can partition $R$ into subsets $R_n$ for which the source and range maps $\so,\ra:R_n\to X$, $\so(y,x)=x$, $\ra(y,x)=y$, are Borel isomorphisms onto their images. For every pair of positive integers $m,n$, set
	<div class='equation'>\[
	\gamma_{m,n}(x)=\begin{cases}
	\ra(\so|_{R_n}^{-1}(x)),&\text{if }x\in A_m\cap\so(R_n),\\
	\so(\ra|_{R_n}^{-1}(x)),&\text{if }x\in B_m\cap\ra(R_n),\\
	x,&\text{otherwise.}
	\end{cases}
	\]</div>
	In other words, $\gamma_{m,n}(x)=y$ if $(x,y)$ belongs to $R_n\cap((A_m\times B_m)\cup (B_m\times A_m))$ and $\gamma_{m,n}(x)=x$ if there is no such $y$. Then $\gamma_{m,n}$ is a Borel automorphism of $X$. Letting $G$ be the group generated by $\gamma_{m,n}$, endowed with the canonical action on $X$ ($gx=g(x)$) we obtain the desired result.<span class='qed'></span>
	</p>
</div>

<div class='remark'>
	<p><span class='envidentifier'>Remark</span>
	Since the generators $\gamma_{m,n}$ of the group above satisfy $\gamma_{m,n}^2=\id$, $G$ is a homomorphic image of a countable free product of the group $\mathbb{Z}/(2\mathbb{Z})$ of order $2$.
	</p>
</div>

<!-- 1.6.20 -->
<div class='definition' id='definitionpmpgroupoid'>
	<p><span class='envidentifier'>Definition 1.6.20</span>
	Let $\mathcal{G}$ be a Borel groupoid and $\mu$ a Borel measure on $\mathcal{G}^{(0)}$. We say that $\mu$ is <em>invariant</em> if $\mu(\mathfrak{s}(A))=\mu(\mathfrak{r}(A))$ for all $A\in\BOR(\mathcal{G})$. A <em>probability measure-preserving</em> groupoid is a Borel groupoid endowed with an invariant probability measure $\mu$ on $\mathcal{G}^{(0)}$, which we will sometimes denote as $(\mathcal{G},\mu)$ whenever $\mu$ needs to be written explicitly.
	</p>
</div>

<div class='remark'>
	<p><span class='envidentifier'>Remark</span>
	If $\mathcal{G}$ is covered by countably many elements of $\BOR(\mathcal{G})$, then $\mu$ is an invariant measure if and only if
	<div class='equation'>\[
	\int_{\mathcal{G}^{(0)}}\#\left(A\cap\mathcal{G}^x\right)d\mu(x)=\int_{\mathcal{G}^{(0)}}\#\left(A\cap\mathcal{G}_x\right)d\mu(x)
	\]</div>
	for every Borel $A\subseteq\mathcal{G}^{(0)}$. The proof that these integrals are well-defined follows the same lines as in the proof of [<span class='ref' data-tag='MR0578656'></span>, Theorem 2]. However, we will only need the invariance described in the definition above.
	</p>
</div>

<p>
We recall from Propositions <span class='ref' data-tag='propositionwheneveryborelbisectionisborelbisection'></span> and <span class='ref' data-tag='radiscretestandardiscoveredbycountablymanyborg'></span> that if $\mathcal{G}$ is a $\ra$-discrete standard Borel groupoid then $\BOR(\mathcal{G})$ coincides with the set of Borel subsets of $\mathcal{G}$ which are also bisections.
</p>

<!-- 1.6.21 -->
<div class='proposition' id='propositionmeasureinvariancefororbitrelation'>
	<p><span class='envidentifier'>Proposition 1.6.21</span>
	If $\mathcal{G}$ is a $\ra$-discrete standard Borel groupoid and $\mu$ is a measure on $\mathcal{G}^{(0)}$, then $\mu$ is invariant for $\mathcal{G}$ if and only if $\mu$ is invariant for the orbit relation $\mathcal{R}(\mathcal{G})$.
	</p>
</div>

<a class='proofbutton' data-tag='propositionmeasureinvariancefororbitrelation'>Proof</a>
<div class='proof' id='proofofpropositionmeasureinvariancefororbitrelation'>
	<p>
	By Proposition <span class='ref' data-tag='radiscretestandardiscoveredbycountablymanyborg'></span>,
	<div class='equation'>\[
	\BOR(\mathcal{R}(\mathcal{G}))=(\ra,\so)(\BOR(\mathcal{G})),
	\]</div>
	and if $A\in\BOR(\mathcal{G})$, and $F=(\ra,\so)(A)$, then
	<div class='equation'>\[
	\so(A)=\so(F)\qquad\text{and}\qquad\ra(A)=\ra(F),
	\]</div>
	from which the desired result readily follows.<span class='qed'></span>
	</p>
</div>

<p>
For the case of group actions, see Proposition <span class='ref' data-tag='propositionactionsmeasurepreserving'></span>
</p>

<p>
Let $(\mathcal{G},\mu)$ be a probability measure-preserving groupoid. We define the <em>null ideal</em> of $(\mathcal{G},\mu)$ as
<div class='equation'>\[
\mathbf{Null}(\mathcal{G},\mu)=\left\{A\in\BOR(\mathcal{G}):\mu(\mathfrak{s}(\theta))=0\right\}.
\]</div>
Note that $\mathbf{Null}(\mathcal{G},\mu)$ is a $\lor$-ideal of $\BOR(\mathcal{G})$.
</p>

<!-- 1.6.22 -->
<div class='definition' id='definitionmeasuredsemigroup'>
	<p><span class='envidentifier'>Definition 1.6.22</span>
	The <em>measured semigroup</em> of a probability measure-preserving groupoid $(\mathcal{G},\mu)$ is the semigroup quotient
	<div class='equation'>\[
	\MEAS(\mathcal{G},\mu)=\BOR(\mathcal{G})/\mathbf{Null}(\mathcal{G},\mu),
	\]</div>
	which we simply denote by $\MEAS(\mathcal{G})$ when the measure $\mu$ is implicit and there is no risk of confusion.
	</p>
</div>

<p>
By Theorem <span class='ref' data-tag='theoremquotientofbooleanisboolean'></span>, $\MEAS(\mathcal{G},\mu)$ is a Boolean inverse semigroup, and in <a href='../1.gis/1.8.nclst.html'>Section 1.8</a> we will see that it is actually $\sigma$-complete.
</p>

<p>
When there is no risk of confusion, we will not usually make a distinction between $\BOR(\mathcal{G})$ and $\mathbf{Meas}(\mathcal{G},\mu)$, in the same manner that one usually sees elements of an $L^1$ space on a probability space $(X,\mu)$ as functions on $X$, instead of classes of functions which agree $\mu$-a.e.
</p>

<!-- 1.6.23 -->
<div class='example' id='exampleinterpretationofmeasr'>
	<p><span class='envidentifier'>Example 1.6.23</span>
	If $R$ is a $\ra$-discrete, probability measure-preserving Borel equivalence relation on a a standard probability space $(X,\mu)$ (see Example <span class='ref' data-tag='exampleborelstructureequivalencerelationisunique'></span>) then $\MEAS(R)$ is isomorphic to the semigroup of partial Borel automorphisms of $X$ preserving $R$-equivalence classes, modulo identifying functions which are defined and coincide a.e. on the union of their domains.
	</p>
</div>

</div>

</body>

<script>
$('.ref').each( function(){
	$(this).load('../references/' + $(this).data('tag') + ' .reflink');
});
</script>
<script>
$('.ref').hover(function(){
	$('#closerightbar').show();
	$('#rightbar').load('../references/' + $(this).data('tag') + ' .toload', function () {
		MathJax.Hub.Queue(["Typeset", MathJax.Hub, "rightbar"]);
		
		$('#rightbar .ref').each( function(){
			$(this).load('../references/' + $(this).data('tag') + ' .reflink');
			});
		});
	},function(){}); // added empty function for when mouse gets out to avoid reloading mathjax
	// this does just creates links inside the right bar. Does not set the hover function for them
</script>

<script>
$('.proofbutton').each(function() {
  var target = $(this).data('tag');
  $(this).attr('href', 'javascript:void(0)');
  $(this).click(function() {
      $('#proofof' + target).toggle();
  });
});
</script>

<script>
function closerightbar(){
	$('#closerightbar').hide();
	$('#rightbar').empty();
}
</script>
</html>